<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="urlyy">
    
    <!-- Completely eliminate flash of wrong theme -->
    <script>
        (function() {
            const THEME_KEY = "REDEFINE-THEME-STATUS";
            const DARK = "dark", LIGHT = "light";
            
            // Get preferred theme
            function getTheme() {
                try {
                    const saved = localStorage.getItem(THEME_KEY);
                    if (saved) {
                        const { isDark } = JSON.parse(saved);
                        return isDark ? DARK : LIGHT;
                    }
                } catch (e) {}
                
                return matchMedia("(prefers-color-scheme: dark)").matches ? DARK : LIGHT;
            }
            
            // Apply theme to document
            function applyTheme(theme) {
                const isDark = theme === DARK;
                const root = document.documentElement;
                
                // Set data attribute for CSS variables
                root.setAttribute("data-theme", theme);
                
                // Set classes for compatibility
                root.classList.add(theme);
                root.classList.remove(isDark ? LIGHT : DARK);
                root.style.colorScheme = theme;
            }
            
            // Initial application
            const theme = getTheme();
            applyTheme(theme);
            
            // Listen for system preference changes
            matchMedia("(prefers-color-scheme: dark)").addEventListener("change", ({ matches }) => {
                // Only update if using system preference (no localStorage entry)
                if (!localStorage.getItem(THEME_KEY)) {
                    applyTheme(matches ? DARK : LIGHT);
                }
            });
            
            // Set body classes once DOM is ready
            if (document.readyState !== "loading") {
                document.body.classList.add(theme + "-mode");
            } else {
                document.addEventListener("DOMContentLoaded", () => {
                    document.body.classList.add(theme + "-mode");
                    document.body.classList.remove((theme === DARK ? LIGHT : DARK) + "-mode");
                });
            }
        })();
    </script>
    
    <!-- Critical CSS to prevent flash -->
    <style>
        :root[data-theme="dark"] {
            --background-color: #202124;
            --background-color-transparent: rgba(32, 33, 36, 0.6);
            --second-background-color: #2d2e32;
            --third-background-color: #34353a;
            --third-background-color-transparent: rgba(32, 33, 36, 0.6);
            --primary-color: #0066CC;
            --first-text-color: #ffffff;
            --second-text-color: #eeeeee;
            --third-text-color: #bebec6;
            --fourth-text-color: #999999;
            --default-text-color: #bebec6;
            --invert-text-color: #373D3F;
            --border-color: rgba(255, 255, 255, 0.08);
            --selection-color: #0066CC;
            --shadow-color-1: rgba(255, 255, 255, 0.08);
            --shadow-color-2: rgba(255, 255, 255, 0.05);
        }
        
        :root[data-theme="light"] {
            --background-color: #fff;
            --background-color-transparent: rgba(255, 255, 255, 0.6);
            --second-background-color: #f8f8f8;
            --third-background-color: #f2f2f2;
            --third-background-color-transparent: rgba(241, 241, 241, 0.6);
            --primary-color: #0066CC;
            --first-text-color: #16171a;
            --second-text-color: #2f3037;
            --third-text-color: #5e5e5e;
            --fourth-text-color: #eeeeee;
            --default-text-color: #373D3F;
            --invert-text-color: #bebec6;
            --border-color: rgba(0, 0, 0, 0.08);
            --selection-color: #0066CC;
            --shadow-color-1: rgba(0, 0, 0, 0.08);
            --shadow-color-2: rgba(0, 0, 0, 0.05);
        }
        
        body {
            background-color: var(--background-color);
            color: var(--default-text-color);
        }
        
        /* Apply body classes as soon as DOM is ready */
        :root[data-theme="dark"] body {
            background-color: var(--background-color);
            color: var(--default-text-color);
        }
    </style>
    
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://urlyy.github.io/2021/09/07/设计模式学习/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
    
    
        
        <meta name="description" content="设计模式笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="设计模式学习">
<meta property="og:url" content="http://urlyy.github.io/2021/09/07/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="设计模式笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/9718a9f121054295b37b41409e477784.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148843568-1.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_10,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/7aac14cc4a834aa7bd449f6ef130af41.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148886647-17.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/3ea547161b434d179f0a20b2e034b9a4.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_12,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/b69381e424c045dd928bfab901f3f610.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148919290-26.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/cfdb815ef5674bcfac5ffb5f5aaaf06d.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/fe3db715df5944948ae5dcda4089da69.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_16,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/3e2f75db3f174933aa52101c7c4fb9f0.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_16,color_FFFFFF,t_70,g_se,x_16-1687148949762-33.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/74e4eeaa5d8c41de92c3eeb9939094d7.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/ee8798b809f64f3fbc74bd1a2dfc7163.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148949762-34.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_17,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_15,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/3456163288034165a088ae4d0b9496f5.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/1a478fb732b54b9fbcdd26178a668eb2.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/86b316906cde47acb107fbaaadcf2afc.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149220706-61.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/22a4eb2b0eab47feb335ec68489da3a6.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_17,color_FFFFFF,t_70,g_se,x_16-1687149240252-66.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/beedb61eeb404daaa309329ea0a5a70c.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149248823-71.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/cbc4110acbd644148375f589a77c21d8.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149257086-76.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/519e6345a651467c9da13fb27a4f2e72.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_19,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/1c2a3635b13c45a5b28514f20f21bfa8.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149277934-85.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/17db58852e9a44449b1badf773253ef1.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_18,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149629430-92.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/4f9a3cdb41334cc2a91f9920f5ea0f60.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_16,color_FFFFFF,t_70,g_se,x_16-1687149638895-97.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_18,color_FFFFFF,t_70,g_se,x_16-1687149638896-98.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/5995494c9a5547b6ab62264ce4511528.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149646403-105.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149653095-108.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/10c08842e19e43e2b538d02209584105.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_19,color_FFFFFF,t_70,g_se,x_16-1687149659574-113.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/29a64bf1f46a4bd08b01b95706bc1686.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_19,color_FFFFFF,t_70,g_se,x_16-1687149665803-118.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149671685-121.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/cf697c7779a64e51847d04a0d8970873.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/e3494bfacaa945808ef7b1750a9052b4.png">
<meta property="og:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/1752734d0d894d8e973049029cb727f6.png">
<meta property="article:published_time" content="2021-09-07T04:13:29.000Z">
<meta property="article:modified_time" content="2025-12-21T10:39:57.291Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://urlyy.github.io/article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/avatar.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.jpg">
    <meta name="theme-color" content="#5c701a">
    <link rel="shortcut icon" href="/images/avatar.jpg">
    <!--- Page Info-->
    
    <title>
        
            设计模式学习 | urlyy的小窝
        
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/css/build/tailwind.css">

    

    
<link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css">

    
<link rel="stylesheet" href="/fonts/Geist/geist.css">

    <!--- Font Part-->
    
    
    
        <link href="" rel="stylesheet">
    
    
    
    

    <script id="hexo-configurations">
    window.config = {"hostname":"urlyy.github.io","root":"/","language":"zh-CN","path":"search.json"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"delete_mask":false,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":false,"auto":false,"list":[""]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"pangu_js":false,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#5c701a","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":true,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null},"title":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":false},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":false,"custom_message":null},"side_tools":{"gear_rotation":true,"auto_expand":false},"open_graph":true,"google_analytics":{"enable":false,"id":null},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/bg/1.jpg","dark":"/images/bg/1.jpg"},"title":"urlyy的小窝","subtitle":{"text":["Loading..."],"hitokoto":{"enable":true,"show_author":false,"api":"https://v1.hitokoto.cn?c=a&c=b&c=d&c=k"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":false,"style":"default","links":{"github":"https://github.com/urlyy?tab=repositories","instagram":null,"zhihu":null,"twitter":null,"email":"2213732736@qq.com"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":true,"version":"9.3.0"}},"version":"2.8.5","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Categories":{"icon":"fa-regular fa-folder","path":"/categories/"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Github":{"path":"https://github.com/urlyy","icon":"fa-brands fa-github"},"个人介绍":{"path":"/personal/profile.html","icon":"fa-regular fa-user"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"cloud"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":null},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2021/9/7 16:55:00"};
    window.lang_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 7.3.0"></head>



<body>
	<div class="progress-bar-container">
	

	
	<span class="pjax-progress-bar"></span>
	<!--        <span class="swup-progress-icon">-->
	<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
	<!--        </span>-->
	
</div>

<main class="page-container" id="swup">

	

	<div class="main-content-container flex flex-col justify-between min-h-dvh">
		<div class="main-content-header">
			<header class="navbar-container px-6 md:px-12">
    <div class="navbar-content transition-navbar ">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                urlyy的小窝
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    首页
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories/"
                                        >
                                    <i class="fa-regular fa-folder fa-fw"></i>
                                    分类
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    归档
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   target="_blank" rel="noopener" href="https://github.com/urlyy"
                                        >
                                    <i class="fa-brands fa-github fa-fw"></i>
                                    GITHUB
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/personal/profile.html"
                                        >
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    个人介绍
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                首页
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories/"
                        >
                            <span>
                                分类
                            </span>
                            
                                <i class="fa-regular fa-folder fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                归档
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           target="_blank" rel="noopener" href="https://github.com/urlyy"
                        >
                            <span>
                                GITHUB
                            </span>
                            
                                <i class="fa-brands fa-github fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/personal/profile.html"
                        >
                            <span>
                                个人介绍
                            </span>
                            
                                <i class="fa-regular fa-user fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            

            
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">25</div>
        <div class="label text-third-text-color text-sm">标签</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">29</div>
        <div class="label text-third-text-color text-sm">分类</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">81</div>
        <div class="label text-third-text-color text-sm">文章</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


		</div>

		<div class="main-content-body transition-fade-up">
			

			<div class="main-content">
				<div class="post-page-container flex relative justify-between box-border w-full h-full">
	<div class="article-content-container">

		<div class="article-title relative w-full">
			
			<div class="w-full flex items-center pt-6 justify-start">
				<h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">设计模式学习</h1>
			</div>
			
		</div>

		
		<div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
			<div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
				<img src="/images/avatar.jpg">
			</div>
			<div class="info flex flex-col justify-between">
				<div class="author flex items-center">
					<span class="name text-default-text-color text-lg font-semibold">urlyy</span>
					
				</div>
				<div class="meta-info">
					<div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2021-09-07 12:13:29</span>
        <span class="mobile">2021-09-07 12:13:29</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-12-21 18:39:57</span>
            <span class="mobile">2025-12-21 18:39:57</span>
            <span class="hover-info">更新</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">软件工程</a>&nbsp;
                        </li>
                    
                    
                
                    
                        
                            <li>></li>
                        
                        <li>
                            <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

				</div>
			</div>
		</div>
		

		


		<div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
			<div class="tabs" id="tab-页面内不重复的id"><ul class="nav-tabs"><li class="tab active"><a class="#页面内不重复的id-1">三种工厂模式</a></li><li class="tab"><a class="#页面内不重复的id-2">建造者模式</a></li><li class="tab"><a class="#页面内不重复的id-3">原型模式</a></li><li class="tab"><a class="#页面内不重复的id-4">责任链模式</a></li><li class="tab"><a class="#页面内不重复的id-5">适配器模式</a></li><li class="tab"><a class="#页面内不重复的id-6">装饰者模式</a></li><li class="tab"><a class="#页面内不重复的id-7">外观模式</a></li><li class="tab"><a class="#页面内不重复的id-8">组合模式</a></li><li class="tab"><a class="#页面内不重复的id-9">命令模式</a></li><li class="tab"><a class="#页面内不重复的id-10">模版方法模式</a></li><li class="tab"><a class="#页面内不重复的id-11">策略模式</a></li><li class="tab"><a class="#页面内不重复的id-12">备忘录模式</a></li><li class="tab"><a class="#页面内不重复的id-13">观察者模式</a></li><li class="tab"><a class="#页面内不重复的id-14">单例模式</a></li><li class="tab"><a class="#页面内不重复的id-15">迭代器模式</a></li><li class="tab"><a class="#页面内不重复的id-16">桥接模式</a></li><li class="tab"><a class="#页面内不重复的id-17">中介者模式</a></li><li class="tab"><a class="#页面内不重复的id-18">解释器模式</a></li><li class="tab"><a class="#页面内不重复的id-19">访问者模式</a></li><li class="tab"><a class="#页面内不重复的id-20">状态模式</a></li><li class="tab"><a class="#页面内不重复的id-21">享元模式</a></li><li class="tab"><a class="#页面内不重复的id-22">代理模式</a></li><li class="tab"><a class="#页面内不重复的id-23">概括23种设计模式</a></li></ul><div class="tab-content"><div class="tab-pane active" id="页面内不重复的id-1"><blockquote>
<p>参考博客：<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/u012156116/article/details/80857255?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163100313016780357274351%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163100313016780357274351&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-80857255.pc_search_insert_download&utm_term=%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >简单工厂模式、工厂模式以及抽象工厂模式（具体）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/ShuSheng0007/article/details/86644481" >秒懂设计模式之抽象工厂模式（Abstract FactoryPattern）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33732195/article/details/110101808?ops_request_misc=&request_id=&biz_id=102&utm_term=%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-6-110101808.pc_search_insert_download&spm=1018.2226.3001.4187" >抽象工厂模式（通俗易懂）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" >23种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="工厂：实例化对象的时候不再使用-new-Object-形式，通过一个工厂获得对象"><a href="#工厂：实例化对象的时候不再使用-new-Object-形式，通过一个工厂获得对象" class="headerlink" title="工厂：实例化对象的时候不再使用 new Object()形式，通过一个工厂获得对象"></a>工厂：实例化对象的时候不再使用 new Object()形式，通过一个工厂获得对象</h1><h1 id="类型：创建型"><a href="#类型：创建型" class="headerlink" title="类型：创建型"></a>类型：创建型</h1><h1 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h1><p>可以根据用户的<strong>选择条件</strong>来实例化相关的类。<br>可以看做<strong>一条</strong>上面有很多种不同实例对象的流水线，用户只需要输入一条命令给switch case(<strong>多条</strong>机械手)，其中一条与命令相对应的机械手就会取出对应的实例对象。<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/9718a9f121054295b37b41409e477784.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="操作接口"><a href="#操作接口" class="headerlink" title="操作接口"></a>操作接口</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 简单工厂模式.opertion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Operation</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getResult</span><span class="params">(<span class="type">double</span> numberA,<span class="type">double</span> numberB)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="具体操作类"><a href="#具体操作类" class="headerlink" title="具体操作类"></a>具体操作类</h3><p>加减乘除同理，除法可以多加一个判断除数为0</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 简单工厂模式.opertion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Add</span> <span class="keyword">implements</span> <span class="title class_">Operation</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getResult</span><span class="params">(<span class="type">double</span> numberA, <span class="type">double</span> numberB)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> numberA + numberB;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="工厂类"><a href="#工厂类" class="headerlink" title="工厂类"></a>工厂类</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 简单工厂模式.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 简单工厂模式.opertion.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EasyFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Operation <span class="title function_">createOperation</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="type">Operation</span> <span class="variable">operationObj</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">switch</span> (name) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                operationObj = <span class="keyword">new</span> <span class="title class_">Add</span>();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                operationObj = <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">                operationObj = <span class="keyword">new</span> <span class="title class_">Mul</span>();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                operationObj = <span class="keyword">new</span> <span class="title class_">Div</span>();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> operationObj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 简单工厂模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 简单工厂模式.factory.EasyFactory;</span><br><span class="line"><span class="keyword">import</span> 简单工厂模式.opertion.Operation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Operation</span> <span class="variable">add</span> <span class="operator">=</span> EasyFactory.createOperation(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">        <span class="type">Operation</span> <span class="variable">sub</span> <span class="operator">=</span> EasyFactory.createOperation(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="type">Operation</span> <span class="variable">mul</span> <span class="operator">=</span> EasyFactory.createOperation(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="type">Operation</span> <span class="variable">div</span> <span class="operator">=</span> EasyFactory.createOperation(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(add.getResult(<span class="number">3</span>, <span class="number">2</span>));</span><br><span class="line">        System.out.println(sub.getResult(<span class="number">3</span>, <span class="number">2</span>));</span><br><span class="line">        System.out.println(mul.getResult(<span class="number">3</span>, <span class="number">2</span>));</span><br><span class="line">        System.out.println(div.getResult(<span class="number">3</span>, <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<p>我们无需提供具体的子类类名，只需要提供一个字符串即可得到相应的实例对象。<br>当子类的类名<strong>更换或者增加</strong>子类时我们都<strong>无需修改</strong>客户端代码，只需要在简单工厂类上<strong>增加一个分支判断代码</strong>即可。</p>
<h2 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h2><p>工厂<strong>隐藏</strong>了创建对象时进行加工的过程，相比于直接在客户端new对象并进行加工，方便且易于维护。</p>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>当工厂中生产的对象种类很多、每个创建方法需要写很多的代码，会导致这个简单工厂类很庞大臃肿。<br>每次增加或者删除子类对象的创建方法都需要打开简单工厂类来进行修改，耦合性高，而且也违反了开闭原则。</p>
<h1 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h1><p>相较于简单工厂模式，就是用更多的类来取代switch case分支，每一个分支归于一个类<br>还拿那个流水线做例子的话，就是为每一种产品开辟一条对应的流水线</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148843568-1.png"
                      alt="在这里插入图片描述"
                ><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_10,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="操作接口和具体操作类"><a href="#操作接口和具体操作类" class="headerlink" title="操作接口和具体操作类"></a>操作接口和具体操作类</h2><p>同上面的简单工厂模式中的</p>
<h2 id="工厂接口"><a href="#工厂接口" class="headerlink" title="工厂接口"></a>工厂接口</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 工厂模式.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 简单工厂模式.opertion.Operation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OperationFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Operation <span class="title function_">createOperation</span><span class="params">()</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="具体的工厂类"><a href="#具体的工厂类" class="headerlink" title="具体的工厂类"></a>具体的工厂类</h3><p>加减乘除同理</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 工厂模式.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 简单工厂模式.opertion.Add;</span><br><span class="line"><span class="keyword">import</span> 简单工厂模式.opertion.Operation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddFactory</span> <span class="keyword">implements</span> <span class="title class_">OperationFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Operation <span class="title function_">createOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Add</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="客户端-1"><a href="#客户端-1" class="headerlink" title="客户端"></a>客户端</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 工厂模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 工厂模式.factory.AddFactory;</span><br><span class="line"><span class="keyword">import</span> 工厂模式.factory.DivFactory;</span><br><span class="line"><span class="keyword">import</span> 工厂模式.factory.MulFactory;</span><br><span class="line"><span class="keyword">import</span> 工厂模式.factory.SubFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//生成所有的具体工厂实例</span></span><br><span class="line">        <span class="type">AddFactory</span> <span class="variable">addFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AddFactory</span>();</span><br><span class="line">        <span class="type">SubFactory</span> <span class="variable">subFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubFactory</span>();</span><br><span class="line">        <span class="type">MulFactory</span> <span class="variable">mulFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MulFactory</span>();</span><br><span class="line">        <span class="type">DivFactory</span> <span class="variable">divFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DivFactory</span>();</span><br><span class="line">        <span class="comment">//进行操作</span></span><br><span class="line">        System.out.println(addFactory.createOperation().getResult(<span class="number">3</span>,<span class="number">2</span>));</span><br><span class="line">        System.out.println(subFactory.createOperation().getResult(<span class="number">3</span>,<span class="number">2</span>));</span><br><span class="line">        System.out.println(mulFactory.createOperation().getResult(<span class="number">3</span>,<span class="number">2</span>));</span><br><span class="line">        System.out.println(divFactory.createOperation().getResult(<span class="number">3</span>,<span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>相对于简单工厂模式，进行了解耦，并克服了违背开闭原则的缺点，又保持了封装对象创建过程的优点。</p>
<h2 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h2><p>把简单工厂的内部逻辑判断转移到了客户端代码来进行，因此客户端的代码也增加了不少。<br>每增加一个产品类，就需要增加一个对应的工厂类，增加了额外的开发量。</p>
<h1 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h1><p>相较于前两种模式，该模式不以产品而是以<strong>品牌家族</strong>建立工厂<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/7aac14cc4a834aa7bd449f6ef130af41.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="品牌接口"><a href="#品牌接口" class="headerlink" title="品牌接口"></a>品牌接口</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.computer.Computer;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.phone.Phone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductFactory</span> &#123;</span><br><span class="line">    Phone <span class="title function_">getPhoneProduct</span><span class="params">()</span>;</span><br><span class="line">    Computer <span class="title function_">getComputerProduct</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="小米品牌"><a href="#小米品牌" class="headerlink" title="小米品牌"></a>小米品牌</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.computer.Computer;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.computer.XiaoMiComputer;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.phone.Phone;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.phone.XiaoMiPhone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiFactory</span> <span class="keyword">implements</span> <span class="title class_">ProductFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhoneProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XiaoMiPhone</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Computer <span class="title function_">getComputerProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XiaoMiComputer</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="华为品牌"><a href="#华为品牌" class="headerlink" title="华为品牌"></a>华为品牌</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.factory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.computer.Computer;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.computer.HuaWeiComputer;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.phone.HuaWeiPhone;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.phone.Phone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiFactory</span> <span class="keyword">implements</span> <span class="title class_">ProductFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhoneProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HuaWeiPhone</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Computer <span class="title function_">getComputerProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HuaWeiComputer</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="电脑产品接口"><a href="#电脑产品接口" class="headerlink" title="电脑产品接口"></a>电脑产品接口</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.product.computer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Computer</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">playComputerGame</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="小米电脑"><a href="#小米电脑" class="headerlink" title="小米电脑"></a>小米电脑</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.product.computer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiComputer</span> <span class="keyword">implements</span> <span class="title class_">Computer</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playComputerGame</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;玩小米电脑游戏&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="华为电脑"><a href="#华为电脑" class="headerlink" title="华为电脑"></a>华为电脑</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.product.computer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiComputer</span> <span class="keyword">implements</span> <span class="title class_">Computer</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playComputerGame</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;玩华为电脑游戏&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="手机接口"><a href="#手机接口" class="headerlink" title="手机接口"></a>手机接口</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.product.phone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Phone</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">playPhoneGame</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="华为手机"><a href="#华为手机" class="headerlink" title="华为手机"></a>华为手机</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.product.phone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiPhone</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playPhoneGame</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;玩华为手机游戏&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="小米手机"><a href="#小米手机" class="headerlink" title="小米手机"></a>小米手机</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.product.phone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiPhone</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playPhoneGame</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;玩小米手机游戏&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="客户端-2"><a href="#客户端-2" class="headerlink" title="客户端"></a>客户端</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 抽象工厂模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.factory.HuaWeiFactory;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.factory.XiaoMiFactory;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.computer.Computer;</span><br><span class="line"><span class="keyword">import</span> 抽象工厂模式.product.phone.Phone;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;============小米产品============&quot;</span>);</span><br><span class="line">        <span class="comment">//创建小米工厂</span></span><br><span class="line">        <span class="type">XiaoMiFactory</span> <span class="variable">xiaoMiFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XiaoMiFactory</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//生产小米手机</span></span><br><span class="line">        <span class="type">Phone</span> <span class="variable">xiaoMiPhone</span> <span class="operator">=</span> xiaoMiFactory.getPhoneProduct();</span><br><span class="line">        xiaoMiPhone.playPhoneGame();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//生产小米电脑</span></span><br><span class="line">        <span class="type">Computer</span> <span class="variable">xiaoMiComputer</span> <span class="operator">=</span> xiaoMiFactory.getComputerProduct();</span><br><span class="line">        xiaoMiComputer.playComputerGame();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;============华为产品============&quot;</span>);</span><br><span class="line">        <span class="comment">//创建华为工厂</span></span><br><span class="line">        <span class="type">HuaWeiFactory</span> <span class="variable">huaWeiFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HuaWeiFactory</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//生产华为手机</span></span><br><span class="line">        <span class="type">Phone</span> <span class="variable">huaWeiPhone</span> <span class="operator">=</span> huaWeiFactory.getPhoneProduct();</span><br><span class="line">        huaWeiPhone.playPhoneGame();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//生产华为电脑</span></span><br><span class="line">        <span class="type">Computer</span> <span class="variable">huaWeiComputer</span> <span class="operator">=</span> huaWeiFactory.getComputerProduct();</span><br><span class="line">        huaWeiComputer.playComputerGame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">============小米产品============</span><br><span class="line">玩小米手机游戏</span><br><span class="line">玩小米电脑游戏</span><br><span class="line">============华为产品============</span><br><span class="line">玩华为手机游戏</span><br><span class="line">玩华为电脑上的游戏</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点：-1"><a href="#优点：-1" class="headerlink" title="优点："></a>优点：</h2><p>一个产品族中的多个对象被设计成一起工作时，它能保证客户端始终只使用同一个产品族中的对象（将一个系列的产品统一一起创建）</p>
<h2 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h2><p>产品族扩展非常困难，要增加一个系列的某一产品，既要修改工厂抽象类里加代码，又修改具体的实现类里面加代码；<br>增加了系统的抽象性和理解难度</p>
<h1 id="三种工厂模式的使用选择"><a href="#三种工厂模式的使用选择" class="headerlink" title="三种工厂模式的使用选择"></a>三种工厂模式的使用选择</h1><ul>
<li><p>简单工厂 ： 用来生产同一等级结构中的任意产品。（不支持拓展增加产品）</p>
</li>
<li><p>工厂方法 ：用来生产同一等级结构中的固定产品。（支持拓展增加产品）   </p>
</li>
<li><p>抽象工厂 ：用来生产不同产品族的全部产品。（支持拓展增加产品；支持增加产品族）</p>
</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-2"><h1 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h1><h2 id="类型：创建型"><a href="#类型：创建型" class="headerlink" title="类型：创建型"></a>类型：创建型</h2><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" >23 种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/u013256816/article/details/50978024?ops_request_misc=&request_id=&biz_id=102&utm_term=%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-2-50978024.pc_search_insert_download&spm=1018.2226.3001.4187" >设计模式：建造者模式（Builder）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148886647-17.png"
                      alt="在这里插入图片描述"
                ></p>
</blockquote>
<p>简单来说，就是有一个管事的和一堆各司其职（制造产品）的工人，这个管事的人可以每次吩咐一个人去完成他的任务，需要完成任务A就找到工人A，需要完成任务B就找到工人B。管事的只负责找到相应的工人，工人只负责完成自己的任务。</p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/3ea547161b434d179f0a20b2e034b9a4.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="需要被建造的bean"><a href="#需要被建造的bean" class="headerlink" title="需要被建造的bean"></a>需要被建造的bean</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 建造者模式.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String head;</span><br><span class="line">    <span class="keyword">private</span> String body;</span><br><span class="line">    <span class="keyword">private</span> String feet;</span><br><span class="line">    <span class="keyword">private</span> String tail;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getHead</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHead</span><span class="params">(String head)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.head = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBody</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> body;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBody</span><span class="params">(String body)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.body = body;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFeet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> feet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFeet</span><span class="params">(String feet)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.feet = feet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tail;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTail</span><span class="params">(String tail)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tail = tail;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Animal&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;head=&#x27;&quot;</span> + head + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, body=&#x27;&quot;</span> + body + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, feet=&#x27;&quot;</span> + feet + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, tail=&#x27;&quot;</span> + tail + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="建造者基类"><a href="#建造者基类" class="headerlink" title="建造者基类"></a>建造者基类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 建造者模式.builder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 建造者模式.bean.Animal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AnimalBuilder</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> Animal animal;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Animal <span class="title function_">getAnimal</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> animal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createAnimal</span><span class="params">()</span>&#123;</span><br><span class="line">        animal = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildHead</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildBody</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildFeet</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildTail</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="具体的建造者"><a href="#具体的建造者" class="headerlink" title="具体的建造者"></a>具体的建造者</h3><h4 id="造猫工人"><a href="#造猫工人" class="headerlink" title="造猫工人"></a>造猫工人</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 建造者模式.builder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 建造者模式.bean.Animal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CatBuilder</span> <span class="keyword">extends</span> <span class="title class_">AnimalBuilder</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildHead</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.animal.setHead(<span class="string">&quot;猫的头&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildBody</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.animal.setBody(<span class="string">&quot;猫的身子&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildFeet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.animal.setFeet(<span class="string">&quot;猫的脚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildTail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.animal.setTail(<span class="string">&quot;猫的尾巴&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h4 id="造狗工人"><a href="#造狗工人" class="headerlink" title="造狗工人"></a>造狗工人</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 建造者模式.builder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DogBuilder</span> <span class="keyword">extends</span> <span class="title class_">AnimalBuilder</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildHead</span><span class="params">()</span> &#123; <span class="built_in">super</span>.animal.setHead(<span class="string">&quot;狗的头&quot;</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildBody</span><span class="params">()</span> &#123; <span class="built_in">super</span>.animal.setBody(<span class="string">&quot;狗的身子&quot;</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildFeet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.animal.setFeet(<span class="string">&quot;狗的脚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildTail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.animal.setTail(<span class="string">&quot;狗的尾巴&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="负责管事的director"><a href="#负责管事的director" class="headerlink" title="负责管事的director"></a>负责管事的director</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 建造者模式.director;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 建造者模式.bean.Animal;</span><br><span class="line"><span class="keyword">import</span> 建造者模式.builder.AnimalBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Director</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> AnimalBuilder animalBuilder;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAnimalBuilder</span><span class="params">(AnimalBuilder animalBuilder)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.animalBuilder = animalBuilder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createAnimal</span><span class="params">()</span>&#123;</span><br><span class="line">    	<span class="comment">//这里就可以控制赋值的顺序</span></span><br><span class="line">        animalBuilder.createAnimal();</span><br><span class="line">        animalBuilder.buildHead();</span><br><span class="line">        animalBuilder.buildBody();</span><br><span class="line">        animalBuilder.buildFeet();</span><br><span class="line">        animalBuilder.buildTail();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Animal <span class="title function_">getAnimal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> animalBuilder.getAnimal();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 建造者模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 建造者模式.bean.Animal;</span><br><span class="line"><span class="keyword">import</span> 建造者模式.builder.CatBuilder;</span><br><span class="line"><span class="keyword">import</span> 建造者模式.builder.DogBuilder;</span><br><span class="line"><span class="keyword">import</span> 建造者模式.director.Director;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//先new出director对象</span></span><br><span class="line">        <span class="type">Director</span> <span class="variable">director</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Director</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;============创造猫咪============&quot;</span>);</span><br><span class="line">        director.setAnimalBuilder(<span class="keyword">new</span> <span class="title class_">CatBuilder</span>());</span><br><span class="line">        director.createAnimal();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">cat</span> <span class="operator">=</span> director.getAnimal();</span><br><span class="line">        System.out.println(cat);</span><br><span class="line">        System.out.println(<span class="string">&quot;============创造炫狗============&quot;</span>);</span><br><span class="line">        director.setAnimalBuilder(<span class="keyword">new</span> <span class="title class_">DogBuilder</span>());</span><br><span class="line">        director.createAnimal();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">dog</span> <span class="operator">=</span> director.getAnimal();</span><br><span class="line">        System.out.println(dog);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">============创造猫咪============</span><br><span class="line">Animal&#123;head=<span class="string">&#x27;猫的头&#x27;</span>, body=<span class="string">&#x27;猫的身子&#x27;</span>, feet=<span class="string">&#x27;猫的脚&#x27;</span>, tail=<span class="string">&#x27;猫的尾巴&#x27;</span>&#125;</span><br><span class="line">============创造炫狗============</span><br><span class="line">Animal&#123;head=<span class="string">&#x27;狗的头&#x27;</span>, body=<span class="string">&#x27;狗的身子&#x27;</span>, feet=<span class="string">&#x27;狗的脚&#x27;</span>, tail=<span class="string">&#x27;狗的尾巴&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>使用建造者模式可以使客户端不必知道产品内部的组成细节。（封装性） </li>
<li>具体的建造者之间是相互独立的，对系统的扩展非常有利。（扩展性）</li>
<li>由于具体的建造者是独立的，因此可以对建造过程逐步细化，而不对其他模块产生任何影响。</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>对不同类型的对象需要实现不同的具体构造器的类，这可能会大大增加类的数量</p>
<h2 id="与工厂模式的区别"><a href="#与工厂模式的区别" class="headerlink" title="与工厂模式的区别"></a>与工厂模式的区别</h2><p>建造者模式构建对象的时候，通常构建对象的过程需要多个步骤，而且是将这些复杂的构建过程封装起来。<br>工厂模式构建对象通常只有一个步骤，调用一个工厂方法就可以生成一个对象。</p>
<p>建造者模式关注的是零件类型和装配工艺（<strong>顺序</strong>），而工厂模式是<strong>创建</strong>一个对象，这是最大不同的地方。</p>
<h1 id="建造者模式的使用场景"><a href="#建造者模式的使用场景" class="headerlink" title="建造者模式的使用场景"></a>建造者模式的使用场景</h1><p>1）<strong>相同</strong>的方法，<strong>不同</strong>的执行<strong>顺序</strong>，产生不同的<strong>事件结果</strong>时，可以使用建造者模式。<br>2）多个部件或零件，都可以装配到一个对象中，但是产生的运行结果又不想同时，可以使用建造者模式。<br>3）产品类非常复杂，或者产品类中的<strong>调用顺序不同产生了不同的效能</strong>，这时候可以使用建造者模式。 </p></div><div class="tab-pane" id="页面内不重复的id-3"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" >23种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zhengzhb/article/details/7393528" >23种设计模式（5）：原型模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h1><h2 id="类型：创建型"><a href="#类型：创建型" class="headerlink" title="类型：创建型"></a>类型：创建型</h2><h2 id="通过复制现有实例来创建新的实例，无需知道相应类的信息。"><a href="#通过复制现有实例来创建新的实例，无需知道相应类的信息。" class="headerlink" title="通过复制现有实例来创建新的实例，无需知道相应类的信息。"></a>通过复制现有实例来创建新的实例，无需知道相应类的信息。</h2><h2 id="关键字：Clone"><a href="#关键字：Clone" class="headerlink" title="关键字：Clone"></a>关键字：Clone</h2><h2 id="深拷贝和浅拷贝"><a href="#深拷贝和浅拷贝" class="headerlink" title="深拷贝和浅拷贝"></a>深拷贝和浅拷贝</h2><p>浅拷贝：将一个对象复制后，<strong>基本数据类型</strong>的变量都会重新创建，而<strong>引用类型</strong>，指向的还是<strong>原对象所指向</strong>的。</p>
<p>深拷贝：将一个对象复制后，<strong>不论</strong>是基本数据类型还是<strong>引用类型</strong>，<strong>都是重新</strong>创建的。</p>
<p>简单来说，就是深拷贝进行了完全彻底的拷贝，而浅拷贝不彻底。<br>clone明显是深拷贝，clone出来的对象是是<strong>不能去影响原型对象</strong>的</p>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>先说优点是因为怕有人觉得为什么不直接new<br>原因：</p>
<ul>
<li>使用原型模式创建对象比直接new一个对象在<strong>性能上要好的多</strong>，因为Object类的clone方法是一个<strong>本地方法</strong>，它<strong>直接操作内存</strong>中的二进制流，特别是复制大对象时，性能的差别非常明显。</li>
<li>使用原型模式的另一个好处是<strong>简化</strong>对象的创建，使得创建对象就像我们在编辑文档时的复制粘贴一样简单。</li>
</ul>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><p>Client：客户端<br>Prototype：接口（抽象类），声明具备clone能力，例如java中得Cloneable接口<br>ConcretePrototype：具体的原型类</p>
<h2 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_12,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ></p>
<p><strong>原型模式的具体实现：一个原型类，只需要实现Cloneable接口，覆写clone方法，此处clone方法可以改成任意的名称，因为Cloneable接口是个空接口，你可以任意定义实现类的方法名，如cloneA或者cloneB，因为此处的重点是super.clone()这句话，super.clone()调用的是Object的clone()方法。</strong></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/b69381e424c045dd928bfab901f3f610.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="原型类"><a href="#原型类" class="headerlink" title="原型类"></a>原型类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 原型模式.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrototypeEmail</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PrototypeEmail <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException &#123;</span><br><span class="line">        <span class="keyword">return</span> (PrototypeEmail) <span class="built_in">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="具体类"><a href="#具体类" class="headerlink" title="具体类"></a>具体类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 原型模式.concretePrototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 原型模式.prototype.PrototypeEmail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Email</span> <span class="keyword">extends</span> <span class="title class_">PrototypeEmail</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;制造出了第&quot;</span>+i+<span class="string">&quot;封信&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 原型模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 原型模式.concretePrototype.Email;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException &#123;</span><br><span class="line">        <span class="type">Email</span> <span class="variable">em</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Email</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++)&#123;</span><br><span class="line">            <span class="type">Email</span> <span class="variable">email</span> <span class="operator">=</span> (Email)em.clone();</span><br><span class="line">            email.print(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">制造出了第<span class="number">1</span>封信</span><br><span class="line">制造出了第<span class="number">2</span>封信</span><br><span class="line">制造出了第<span class="number">3</span>封信</span><br><span class="line">制造出了第<span class="number">4</span>封信</span><br><span class="line">制造出了第<span class="number">5</span>封信</span><br><span class="line">制造出了第<span class="number">6</span>封信</span><br><span class="line">制造出了第<span class="number">7</span>封信</span><br><span class="line">制造出了第<span class="number">8</span>封信</span><br><span class="line">制造出了第<span class="number">9</span>封信</span><br><span class="line">制造出了第<span class="number">10</span>封信</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<p><em><strong>在需要重复地创建相似对象时可以考虑使用原型模式。比如需要在一个循环体内创建对象，假如对象创建过程比较复杂或者循环次数很多的话，使用原型模式不但可以简化创建过程，而且可以使系统的整体性能提高很多。</strong></em></p>
<h2 id="原型模式的注意事项"><a href="#原型模式的注意事项" class="headerlink" title="原型模式的注意事项"></a>原型模式的注意事项</h2><h3 id="1-使用原型模式复制对象不会调用类的构造方法"><a href="#1-使用原型模式复制对象不会调用类的构造方法" class="headerlink" title="1. 使用原型模式复制对象不会调用类的构造方法"></a>1. 使用原型模式复制对象不会调用类的构造方法</h3><p> 因为对象的复制是通过调用Object类的clone方法来完成的，它直接在内存中复制数据。不但构造方法中的代码不会执行，甚至连访问权限都对原型模式无效。</p>
<p>而在单例模式中，只要将构造方法的访问权限设置为private类型，就可以实现单例。但是clone方法直接无视构造方法的权限.</p>
<p>所以，<strong>单例模式与原型模式是冲突的</strong>，在使用时要特别注意。</p>
<h3 id="2-深拷贝与浅拷贝。"><a href="#2-深拷贝与浅拷贝。" class="headerlink" title="2. 深拷贝与浅拷贝。"></a>2. 深拷贝与浅拷贝。</h3><p>Object类的clone方法只会拷贝对象中的基本的数据类型，对于数组、容器对象、引用对象等都不会拷贝，这就是浅拷贝。<br><strong>如果要实现深拷贝，必须将原型模式中的数组、容器对象、引用对象等另行拷贝。</strong></p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 原型模式.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrototypeEmail</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">ArrayList</span> <span class="variable">arrayList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PrototypeEmail <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException &#123;</span><br><span class="line">        PrototypeEmail pe=(PrototypeEmail)<span class="built_in">super</span>.clone();</span><br><span class="line">        <span class="comment">//这里对引用对象另行拷贝了</span></span><br><span class="line">        pe.arrayList = (ArrayList)<span class="built_in">this</span>.arrayList.clone();</span><br><span class="line">        <span class="keyword">return</span> pe;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>java提供的大部分的容器类都实现了Cloneable接口<br>会发生深拷贝的有java中的8种基本类型以及他们的封装类型，另外还有String类型。其余的都是浅拷贝。</p></div><div class="tab-pane" id="页面内不重复的id-4"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/ykmeory/article/details/107783511?ops_request_misc=&request_id=&biz_id=102&utm_term=%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-9-107783511.nonecase&spm=1018.2226.3001.4187" >行为型模式（一）：责任链模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="责任链模式"><a href="#责任链模式" class="headerlink" title="责任链模式"></a>责任链模式</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><h2 id="为了避免请求发送者与多个请求处理者耦合在一起，将所有请求的处理者通过前一对象记住其下一个对象的引用而连成一条链；当有请求发生时，可将请求沿着这条链传递，直到有对象处理它为止。"><a href="#为了避免请求发送者与多个请求处理者耦合在一起，将所有请求的处理者通过前一对象记住其下一个对象的引用而连成一条链；当有请求发生时，可将请求沿着这条链传递，直到有对象处理它为止。" class="headerlink" title="为了避免请求发送者与多个请求处理者耦合在一起，将所有请求的处理者通过前一对象记住其下一个对象的引用而连成一条链；当有请求发生时，可将请求沿着这条链传递，直到有对象处理它为止。"></a>为了避免请求发送者与多个请求处理者耦合在一起，将所有请求的处理者通过前一对象记住其下一个对象的引用而连成一条链；当有请求发生时，可将请求沿着这条链传递，直到有对象处理它为止。</h2><h2 id="角色："><a href="#角色：" class="headerlink" title="角色："></a>角色：</h2><ol>
<li>抽象处理者（Handler）角色：定义一个处理请求的接口，包含抽象处理方法和一个后继连接。</li>
<li>具体处理者（Concrete Handler）角色：实现抽象处理者的处理方法，判断能否处理本次请求，如果可以处理请求则处理，否则将该请求转给它的后继者。</li>
<li>客户类（Client）角色：创建处理链，并向链头的具体处理者对象提交请求，它不关心处理细节和请求的传递过程。</li>
</ol>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148919290-26.png"
                      alt="在这里插入图片描述"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/cfdb815ef5674bcfac5ffb5f5aaaf06d.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="模式的应用场景"><a href="#模式的应用场景" class="headerlink" title="模式的应用场景"></a>模式的应用场景</h2><ol>
<li>有多个对象可以处理一个请求，哪个对象处理该请求由运行时刻自动确定。</li>
<li>可动态指定一组对象处理请求，或添加新的处理者。</li>
<li>在不明确指定请求处理者的情况下，向多个处理者中的一个提交请求。</li>
</ol>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/fe3db715df5944948ae5dcda4089da69.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="处理者基类"><a href="#处理者基类" class="headerlink" title="处理者基类"></a>处理者基类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 责任链模式.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> Handler nextHandler;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNextHandler</span><span class="params">(Handler nextHandler)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.nextHandler=nextHandler;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Handler <span class="title function_">getNextHandler</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.nextHandler;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">handleReq</span><span class="params">(<span class="type">double</span> reqMoney)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="权限从小到大的处理者"><a href="#权限从小到大的处理者" class="headerlink" title="权限从小到大的处理者"></a>权限从小到大的处理者</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 责任链模式.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SmallHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="variable">permission</span> <span class="operator">=</span> <span class="number">1e3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleReq</span><span class="params">(<span class="type">double</span> reqMoney)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(reqMoney&lt;=permission)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;小领导还是有这个能力的&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;小领导办了&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;小领导没这个权限，去找中领导吧&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.getNextHandler().handleReq(reqMoney);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">package</span> 责任链模式.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MediumHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="variable">permission</span> <span class="operator">=</span> <span class="number">1e4</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleReq</span><span class="params">(<span class="type">double</span> reqMoney)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(reqMoney&lt;=permission)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;中领导还是有这个能力的&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;中领导办了&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;中领导没这个权限，去找大领导吧&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.getNextHandler().handleReq(reqMoney);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">package</span> 责任链模式.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="variable">permission</span> <span class="operator">=</span> <span class="number">1e5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleReq</span><span class="params">(<span class="type">double</span> reqMoney)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(reqMoney&lt;=permission)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;大领导还是有这个能力的&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;大领导办了&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;大领导没这个权限，去找更大领导吧&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.getNextHandler().handleReq(reqMoney);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">package</span> 责任链模式.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BiggerHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="variable">permission</span> <span class="operator">=</span> <span class="number">1e6</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleReq</span><span class="params">(<span class="type">double</span> reqMoney)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(reqMoney&lt;=permission)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;更大领导还是有这个能力的&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;更大领导办了&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;要这么多钱干嘛？不批&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;这笔钱没批下来&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////////////</span></span><br></pre></td></tr></table></figure></div>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 责任链模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 责任链模式.handler.BigHandler;</span><br><span class="line"><span class="keyword">import</span> 责任链模式.handler.BiggerHandler;</span><br><span class="line"><span class="keyword">import</span> 责任链模式.handler.MediumHandler;</span><br><span class="line"><span class="keyword">import</span> 责任链模式.handler.SmallHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BiggerHandler</span> <span class="variable">biggerHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BiggerHandler</span>();</span><br><span class="line">        <span class="type">BigHandler</span> <span class="variable">bigHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigHandler</span>();</span><br><span class="line">        <span class="type">MediumHandler</span> <span class="variable">mediumHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MediumHandler</span>();</span><br><span class="line">        <span class="type">SmallHandler</span> <span class="variable">smallHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SmallHandler</span>();</span><br><span class="line">        <span class="comment">//先设置next</span></span><br><span class="line">        bigHandler.setNextHandler(biggerHandler);</span><br><span class="line">        mediumHandler.setNextHandler(bigHandler);</span><br><span class="line">        smallHandler.setNextHandler(mediumHandler);</span><br><span class="line">        <span class="comment">//开始处理</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">double</span> i=<span class="number">100</span>;i&lt;=<span class="number">1e6</span>;i=i*<span class="number">10</span>)&#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">req</span> <span class="operator">=</span> i+<span class="number">1</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;----请求经费为&quot;</span>+req+<span class="string">&quot;----&quot;</span>);</span><br><span class="line">            String resp= smallHandler.handleReq(req);</span><br><span class="line">            System.out.println(<span class="string">&quot;最终是&quot;</span>+resp+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">----请求经费为<span class="number">101.0</span>----</span><br><span class="line">小领导还是有这个能力的</span><br><span class="line">最终是小领导办了</span><br><span class="line"></span><br><span class="line">----请求经费为<span class="number">1001.0</span>----</span><br><span class="line">小领导没这个权限，去找中领导吧</span><br><span class="line">中领导还是有这个能力的</span><br><span class="line">最终是中领导办了</span><br><span class="line"></span><br><span class="line">----请求经费为<span class="number">10001.0</span>----</span><br><span class="line">小领导没这个权限，去找中领导吧</span><br><span class="line">中领导没这个权限，去找大领导吧</span><br><span class="line">大领导还是有这个能力的</span><br><span class="line">最终是大领导办了</span><br><span class="line"></span><br><span class="line">----请求经费为<span class="number">100001.0</span>----</span><br><span class="line">小领导没这个权限，去找中领导吧</span><br><span class="line">中领导没这个权限，去找大领导吧</span><br><span class="line">大领导没这个权限，去找更大领导吧</span><br><span class="line">更大领导还是有这个能力的</span><br><span class="line">最终是更大领导办了</span><br><span class="line"></span><br><span class="line">----请求经费为<span class="number">1000001.0</span>----</span><br><span class="line">小领导没这个权限，去找中领导吧</span><br><span class="line">中领导没这个权限，去找大领导吧</span><br><span class="line">大领导没这个权限，去找更大领导吧</span><br><span class="line">要这么多钱干嘛？不批</span><br><span class="line">最终是这笔钱没批下来</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>



<h2 id="模式的扩展"><a href="#模式的扩展" class="headerlink" title="模式的扩展"></a>模式的扩展</h2><p>职责链模式存在以下两种情况：<br>1、纯的职责链模式：一个请求必须被某一个处理者对象所接收，且一个具体处理者对某个请求的处理只能采用以下两种行为之一：自己处理（承担责任）；把责任推给下家处理。<br>2、不纯的职责链模式：允许出现某一个具体处理者对象在承担了请求的一部分责任后又将<strong>剩余的责任</strong>传给下家的情况，且一个请求可以最终不被任何接收端对象所接收。</p></div><div class="tab-pane" id="页面内不重复的id-5"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/jason0539/article/details/22468457?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-2.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-2.no_search_link" >JAVA设计模式初探之适配器模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zsd0819qwq/article/details/101631846" >适配器模式详解<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h1><h1 id="类型：结构型"><a href="#类型：结构型" class="headerlink" title="类型：结构型"></a>类型：结构型</h1><h1 id="将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作"><a href="#将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作" class="headerlink" title="将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作"></a>将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作</h1><h1 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h1><ol>
<li>系统需要使用现有的类，但现有的类却不兼容。</li>
<li>需要建立一个可以重复使用的类，用于一些彼此关系不大的类，并易于扩展，以便于面对将来会出现的类。</li>
<li>需要一个统一的输出接口，但是输入类型却不可预知。</li>
</ol>
<h1 id="模式中的角色"><a href="#模式中的角色" class="headerlink" title="模式中的角色"></a>模式中的角色</h1><h2 id="目标接口（Target）："><a href="#目标接口（Target）：" class="headerlink" title="目标接口（Target）："></a>目标接口（Target）：</h2><p>客户所期待的接口。目标可以是具体的或抽象的类，也可以是接口。</p>
<h2 id="需要适配的类（Adaptee）："><a href="#需要适配的类（Adaptee）：" class="headerlink" title="需要适配的类（Adaptee）："></a>需要适配的类（Adaptee）：</h2><p>需要适配的类或适配者类。</p>
<h2 id="适配器（Adapter）："><a href="#适配器（Adapter）：" class="headerlink" title="适配器（Adapter）："></a>适配器（Adapter）：</h2><p>通过包装一个需要适配的对象，把原接口转换成目标接口。　</p>
<h1 id="两种实现方式："><a href="#两种实现方式：" class="headerlink" title="两种实现方式："></a>两种实现方式：</h1><h2 id="1-类的适配器模式（采用继承实现）"><a href="#1-类的适配器模式（采用继承实现）" class="headerlink" title="1. 类的适配器模式（采用继承实现）"></a>1. 类的适配器模式（采用继承实现）</h2><p>对于<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_16,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/3e2f75db3f174933aa52101c7c4fb9f0.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="Adaptee（厂商标准电压）"><a href="#Adaptee（厂商标准电压）" class="headerlink" title="Adaptee（厂商标准电压）"></a>Adaptee（厂商标准电压）</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 适配器模式.类适配器模式.adaptee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Voltage220</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">beforeVoltage</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;220V&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="Target-用户手机的电压接口"><a href="#Target-用户手机的电压接口" class="headerlink" title="Target(用户手机的电压接口)"></a>Target(用户手机的电压接口)</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 适配器模式.类适配器模式.target;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Voltage5</span> &#123;</span><br><span class="line">    String <span class="title function_">afterVoltage</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------</span><br><span class="line"><span class="keyword">package</span> 适配器模式.类适配器模式.target;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Voltage10</span> &#123;</span><br><span class="line">    String <span class="title function_">afterVoltage</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure></div>
<h3 id="Adapter-电压适配器"><a href="#Adapter-电压适配器" class="headerlink" title="Adapter(电压适配器)"></a>Adapter(电压适配器)</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 适配器模式.类适配器模式.adapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 适配器模式.类适配器模式.adaptee.Voltage220;</span><br><span class="line"><span class="keyword">import</span> 适配器模式.类适配器模式.target.Voltage5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VoltageAdapter5</span> <span class="keyword">extends</span> <span class="title class_">Voltage220</span> <span class="keyword">implements</span> <span class="title class_">Voltage5</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">afterVoltage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;5V&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 适配器模式.类适配器模式.adapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 适配器模式.类适配器模式.adaptee.Voltage220;</span><br><span class="line"><span class="keyword">import</span> 适配器模式.类适配器模式.target.Voltage10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VoltageAdapter10</span> <span class="keyword">extends</span> <span class="title class_">Voltage220</span> <span class="keyword">implements</span> <span class="title class_">Voltage10</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">afterVoltage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;10V&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------------------------</span><br></pre></td></tr></table></figure></div>

<h3 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 适配器模式.类适配器模式.client;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 适配器模式.类适配器模式.adapter.VoltageAdapter10;</span><br><span class="line"><span class="keyword">import</span> 适配器模式.类适配器模式.adapter.VoltageAdapter5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;适配5V的电压&quot;</span>);</span><br><span class="line">        <span class="type">VoltageAdapter5</span> <span class="variable">va5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoltageAdapter5</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;----------适配之前的标准电压---------&quot;</span>);</span><br><span class="line">        System.out.println(va5.beforeVoltage());</span><br><span class="line">        System.out.println(<span class="string">&quot;----------适配手机之后的电压---------&quot;</span>);</span><br><span class="line">        System.out.println(va5.afterVoltage());</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;适配10V的电压&quot;</span>);</span><br><span class="line">        <span class="type">VoltageAdapter10</span> <span class="variable">va10</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoltageAdapter10</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;----------适配之前的标准电压---------&quot;</span>);</span><br><span class="line">        System.out.println(va10.beforeVoltage());</span><br><span class="line">        System.out.println(<span class="string">&quot;----------适配手机之后的电压---------&quot;</span>);</span><br><span class="line">        System.out.println(va10.afterVoltage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">适配5V的电压</span><br><span class="line">----------适配之前的标准电压---------</span><br><span class="line">220V</span><br><span class="line">------------适配之后的电压-----------</span><br><span class="line">5V</span><br><span class="line"></span><br><span class="line">适配10V的电压</span><br><span class="line">----------适配之前的标准电压---------</span><br><span class="line">220V</span><br><span class="line">------------适配之后的电压-----------</span><br><span class="line">10V</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>


<h2 id="2-对象适配器（采用对象组合方式实现）"><a href="#2-对象适配器（采用对象组合方式实现）" class="headerlink" title="2. 对象适配器（采用对象组合方式实现）"></a>2. 对象适配器（采用对象组合方式实现）</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_16,color_FFFFFF,t_70,g_se,x_16-1687148949762-33.png"
                      alt="在这里插入图片描述"
                ><br>这种方法其实和类适配器的区别就是适配器部分，用组合代替继承<br>只有Adapter类有点不同<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/74e4eeaa5d8c41de92c3eeb9939094d7.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="Adapter-电压适配器-1"><a href="#Adapter-电压适配器-1" class="headerlink" title="Adapter(电压适配器)"></a>Adapter(电压适配器)</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 适配器模式.对象适配器模式.adapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 适配器模式.对象适配器模式.adaptee.Voltage220;</span><br><span class="line"><span class="keyword">import</span> 适配器模式.对象适配器模式.target.Voltage5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VoltageAdapter5</span> <span class="keyword">implements</span> <span class="title class_">Voltage5</span> &#123;</span><br><span class="line"></span><br><span class="line">    Voltage220 voltage220;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">VoltageAdapter5</span><span class="params">(Voltage220 voltage220)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.voltage220 = voltage220;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">beforeVoltage</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> voltage220.beforeVoltage();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">afterVoltage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;5V&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 适配器模式.对象适配器模式.adapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 适配器模式.对象适配器模式.adaptee.Voltage220;</span><br><span class="line"><span class="keyword">import</span> 适配器模式.对象适配器模式.target.Voltage10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VoltageAdapter10</span> <span class="keyword">implements</span> <span class="title class_">Voltage10</span> &#123;</span><br><span class="line"></span><br><span class="line">    Voltage220 voltage220;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">VoltageAdapter10</span><span class="params">(Voltage220 voltage220)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.voltage220 = voltage220;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">beforeVoltage</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> voltage220.beforeVoltage();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">afterVoltage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;10V&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------------------------</span><br></pre></td></tr></table></figure></div>
<h2 id="模式优缺点"><a href="#模式优缺点" class="headerlink" title="模式优缺点"></a>模式优缺点</h2><ol>
<li>将目标类和适配者类<strong>解耦</strong>，通过引入一个适配器类来重用现有的适配者类，而<strong>无须修改原有代码</strong>。</li>
<li>增加了类的透明性和复用性，将具体的实现封装在适配者类中，对于客户端类来说是透明的，而且提高了适配者的复用性。</li>
<li>灵活性和扩展性都非常好，通过使用配置文件，可以很方便地更换适配器，也<strong>可以在不修改原有代码的基础上增加新的适配器类，完全符合“开闭原则”。</strong></li>
</ol>
<h3 id="类适配器模式还具有如下优点："><a href="#类适配器模式还具有如下优点：" class="headerlink" title="类适配器模式还具有如下优点："></a>类适配器模式还具有如下优点：</h3><p>由于适配器类是适配者类的<strong>子类</strong>，因此可以在适配器类中<strong>置换一些适配者的方法</strong>，使得适配器的灵活性更强。</p>
<h3 id="类适配器模式的缺点如下："><a href="#类适配器模式的缺点如下：" class="headerlink" title="类适配器模式的缺点如下："></a>类适配器模式的缺点如下：</h3><p>对于Java、C#等<strong>不支持多重继承</strong>的语言，一次最多只能适配一个适配者类，而且目标抽象类只能为抽象类，不能为具体类，其使用有一定的局限性，不能将一个适配者类和它的子类<strong>都适配</strong>到目标接口。</p>
<h3 id="对象适配器模式还具有如下优点："><a href="#对象适配器模式还具有如下优点：" class="headerlink" title="对象适配器模式还具有如下优点："></a>对象适配器模式还具有如下优点：</h3><p>一个对象适配器可以把多个不同的适配者适配到同一个目标，也就是说，同一个适配器可以<strong>把适配者类和它的子类都适配到</strong>目标接口。</p>
<h3 id="对象适配器模式的缺点如下："><a href="#对象适配器模式的缺点如下：" class="headerlink" title="对象适配器模式的缺点如下："></a>对象适配器模式的缺点如下：</h3><p>与类适配器模式相比，要想<strong>置换适配者类的方法就不容易</strong>。如果一定要置换掉适配者类的一个或多个方法，就只好先做一个适配者类的子类，将适配者类的方法置换掉，然后再把适配者类的子类当做真正的适配者进行适配，实现过程较为复杂。</p>
<h2 id="模式扩展"><a href="#模式扩展" class="headerlink" title="模式扩展"></a>模式扩展</h2><h3 id="默认适配器模式-Default-Adapter-Pattern-或缺省适配器模式"><a href="#默认适配器模式-Default-Adapter-Pattern-或缺省适配器模式" class="headerlink" title="默认适配器模式(Default Adapter Pattern)或缺省适配器模式"></a>默认适配器模式(Default Adapter Pattern)或缺省适配器模式</h3><p>当不需要全部实现接口提供的方法时，可先设计一个<strong>抽象类实现接口</strong>，并为该接口中每个方法提供一个<strong>默认实现</strong>（空方法），那么该抽象类的子类可<strong>有选择地覆盖</strong>父类的某些方法来实现需求，它适用于一个接口<strong>不想使用其所有的方法的情况</strong>。因此也称为单接口适配器模式。<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/ee8798b809f64f3fbc74bd1a2dfc7163.png"
                      alt="在这里插入图片描述"
                ></p>
<ol>
<li>适配者接口是一个接口，通常<strong>在该接口中声明了大量的方法</strong>。</li>
<li>默认适配器类是缺省适配器模式的核心类，使用空方法的形式实现了在ServiceInterface接口中声明的方法。通常将它定义为抽象类，因为对它进行实例化没有任何意义。</li>
<li>具体业务类是缺省适配器类的子类，在没有引入适配器之前，它需要实现适配者接口，因此需要实现在适配者接口中定义的所有方法，而对于一些无须使用的方法也不得不提供空实现。在有了缺省适配器之后，可以直接继承该适配器类，根据需要有选择性地覆盖在适配器类中定义的方法。</li>
</ol>
<h3 id="双向适配器"><a href="#双向适配器" class="headerlink" title="双向适配器"></a>双向适配器</h3><p>在对象适配器的使用过程中，如果在适配器中<strong>同时包含对目标类和适配者类的引用</strong>，适配者可以通过它调用目标类中的方法，目标类也可以通过它调用适配者类中的方法，那么该适配器就是一个双向适配器<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687148949762-34.png"
                      alt="在这里插入图片描述"
                ></p></div><div class="tab-pane" id="页面内不重复的id-6"><h1 id="装饰者模式"><a href="#装饰者模式" class="headerlink" title="装饰者模式"></a>装饰者模式</h1><h2 id="类型：结构型"><a href="#类型：结构型" class="headerlink" title="类型：结构型"></a>类型：结构型</h2><h2 id="动态的将新功能附加到对象上。在对象功能扩展方面，它比继承更有弹性。"><a href="#动态的将新功能附加到对象上。在对象功能扩展方面，它比继承更有弹性。" class="headerlink" title="动态的将新功能附加到对象上。在对象功能扩展方面，它比继承更有弹性。"></a>动态的将新功能附加到对象上。在对象功能扩展方面，它比继承更有弹性。</h2><p>具体做法就是不断的包装，然后获得总价可以通过递归的形式由内向外获得所有花费之和<br>可以参考下面这张图</p>
<ol>
<li>将LongBlack咖啡先包装进Milk类的对象内，表示加入了牛奶</li>
<li>然后再包装进Chocalate类的对象内，表示加入了巧克力</li>
<li>然后又包装进Chocalate类的对象内，表示再次加入了巧克力<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_17,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ></li>
</ol>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ol>
<li>Component（被装饰对象的基类）<br>定义一个对象接口，可以给这些对象动态地添加职责。</li>
<li>ConcreteComponent（具体被装饰对象）<br>定义一个对象，可以给这个对象添加一些职责。</li>
<li>Decorator（装饰者抽象类）<br>维持一个指向Component实例的引用，并定义一个与Component接口一致的接口。</li>
<li>ConcreteDecorator（具体装饰者）<br>具体的装饰对象，给内部持有的具体被装饰对象，增加具体的职责。</li>
</ol>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_15,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/3456163288034165a088ae4d0b9496f5.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="component"><a href="#component" class="headerlink" title="component"></a>component</h2><h3 id="基类"><a href="#基类" class="headerlink" title="基类"></a>基类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 装饰者模式.component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Dish</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String description=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> price=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">int</span> <span class="title function_">getAllCost</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">getAllDesc</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDescription</span><span class="params">(String description)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">int</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="具体子类"><a href="#具体子类" class="headerlink" title="具体子类"></a>具体子类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 装饰者模式.component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fish</span> <span class="keyword">extends</span> <span class="title class_">Dish</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Fish</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>.setDescription(<span class="string">&quot;一条鱼&quot;</span>);</span><br><span class="line">        <span class="built_in">super</span>.setPrice(<span class="number">100000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAllCost</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getPrice();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAllDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getDescription();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 装饰者模式.component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Soup</span> <span class="keyword">extends</span> <span class="title class_">Dish</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Soup</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>.setDescription(<span class="string">&quot;一碗汤&quot;</span>);</span><br><span class="line">        <span class="built_in">super</span>.setPrice(<span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAllCost</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getPrice();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAllDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getDescription();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 装饰者模式.component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tofu</span> <span class="keyword">extends</span> <span class="title class_">Dish</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Tofu</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>.setDescription(<span class="string">&quot;一块豆腐&quot;</span>);</span><br><span class="line">        <span class="built_in">super</span>.setPrice(<span class="number">10000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAllCost</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getPrice();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAllDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getDescription();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="装饰者"><a href="#装饰者" class="headerlink" title="装饰者"></a>装饰者</h2><h3 id="基类-1"><a href="#基类-1" class="headerlink" title="基类"></a>基类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 装饰者模式.decorator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Dish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Seasoning</span> <span class="keyword">extends</span> <span class="title class_">Dish</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Dish dish;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Seasoning</span><span class="params">(Dish dish)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.dish=dish;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAllCost</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//用递归的方法去获得价格</span></span><br><span class="line">        <span class="comment">//加号前面为该菜之前的花费，加号后面为当前调料的花费</span></span><br><span class="line">        <span class="keyword">return</span> dish.getAllCost()+<span class="built_in">super</span>.getPrice();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAllDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//用递归的方法去获得描述</span></span><br><span class="line">        <span class="keyword">return</span> dish.getAllDesc()+<span class="built_in">super</span>.getDescription();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="具体子类-1"><a href="#具体子类-1" class="headerlink" title="具体子类"></a>具体子类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 装饰者模式.decorator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Dish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Oil</span> <span class="keyword">extends</span> <span class="title class_">Seasoning</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Oil</span><span class="params">(Dish dish)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(dish);</span><br><span class="line">        <span class="built_in">super</span>.setPrice(<span class="number">100</span>);</span><br><span class="line">        <span class="built_in">super</span>.setDescription(<span class="string">&quot;+油&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------</span><br><span class="line"><span class="keyword">package</span> 装饰者模式.decorator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Dish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Salt</span> <span class="keyword">extends</span> <span class="title class_">Seasoning</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Salt</span><span class="params">(Dish dish)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(dish);</span><br><span class="line">        <span class="built_in">super</span>.setPrice(<span class="number">10</span>);</span><br><span class="line">        <span class="built_in">super</span>.setDescription(<span class="string">&quot;+盐&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------</span><br><span class="line"><span class="keyword">package</span> 装饰者模式.decorator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Dish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sugar</span> <span class="keyword">extends</span> <span class="title class_">Seasoning</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Sugar</span><span class="params">(Dish dish)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(dish);</span><br><span class="line">        <span class="built_in">super</span>.setPrice(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">super</span>.setDescription(<span class="string">&quot;+糖&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 装饰者模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Dish;</span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Fish;</span><br><span class="line"><span class="keyword">import</span> 装饰者模式.component.Tofu;</span><br><span class="line"><span class="keyword">import</span> 装饰者模式.decorator.Oil;</span><br><span class="line"><span class="keyword">import</span> 装饰者模式.decorator.Salt;</span><br><span class="line"><span class="keyword">import</span> 装饰者模式.decorator.Sugar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//未经处理的鱼</span></span><br><span class="line">        <span class="type">Dish</span> <span class="variable">fish</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fish</span>();</span><br><span class="line">        System.out.println(fish.getAllDesc());</span><br><span class="line">        System.out.println(<span class="string">&quot;花费为&quot;</span>+fish.getAllCost()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        <span class="comment">//加油</span></span><br><span class="line">        fish = <span class="keyword">new</span> <span class="title class_">Oil</span>(fish);</span><br><span class="line">        System.out.println(fish.getAllDesc());</span><br><span class="line">        System.out.println(<span class="string">&quot;花费为&quot;</span>+fish.getAllCost()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        <span class="comment">//加盐</span></span><br><span class="line">        fish = <span class="keyword">new</span> <span class="title class_">Salt</span>(fish);</span><br><span class="line">        System.out.println(fish.getAllDesc());</span><br><span class="line">        System.out.println(<span class="string">&quot;花费为&quot;</span>+fish.getAllCost()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        <span class="comment">//加糖</span></span><br><span class="line">        fish = <span class="keyword">new</span> <span class="title class_">Sugar</span>(fish);</span><br><span class="line">        System.out.println(fish.getAllDesc());</span><br><span class="line">        System.out.println(<span class="string">&quot;花费为&quot;</span>+fish.getAllCost()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        <span class="comment">//加盐</span></span><br><span class="line">        fish = <span class="keyword">new</span> <span class="title class_">Salt</span>(fish);</span><br><span class="line">        System.out.println(fish.getAllDesc());</span><br><span class="line">        System.out.println(<span class="string">&quot;花费为&quot;</span>+fish.getAllCost()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        <span class="comment">/*-----------------------------------------------------*/</span></span><br><span class="line">        <span class="comment">//未经处理的豆腐</span></span><br><span class="line">        <span class="type">Dish</span> <span class="variable">tofu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tofu</span>();</span><br><span class="line">        tofu=<span class="keyword">new</span> <span class="title class_">Oil</span>(<span class="keyword">new</span> <span class="title class_">Salt</span>(tofu));</span><br><span class="line">        System.out.println(tofu.getAllDesc());</span><br><span class="line">        System.out.println(<span class="string">&quot;花费为&quot;</span>+tofu.getAllCost()+<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">一条鱼</span><br><span class="line">花费为<span class="number">100000</span></span><br><span class="line"></span><br><span class="line">一条鱼+油</span><br><span class="line">花费为<span class="number">100100</span></span><br><span class="line"></span><br><span class="line">一条鱼+油+盐</span><br><span class="line">花费为<span class="number">100110</span></span><br><span class="line"></span><br><span class="line">一条鱼+油+盐+糖</span><br><span class="line">花费为<span class="number">100111</span></span><br><span class="line"></span><br><span class="line">一条鱼+油+盐+糖+盐</span><br><span class="line">花费为<span class="number">100121</span></span><br><span class="line"></span><br><span class="line">一块豆腐+盐+油</span><br><span class="line">花费为<span class="number">10110</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>装饰者和被装饰者之间必须是一样的类型,也就是要有共同的超类。</li>
<li>在这里使用继承并不是实现方法的复制,而是实现类型的匹配。因为装饰者和被装饰者是同一个类型,因此装饰者可以取代被装饰者,这样就使被装饰者拥有了装饰者独有的行为。</li>
<li>虽然装饰者模式可以为设计注入弹性，但装饰者也常常造成设计中有大量的小对象，如果过度使用会让程序变得很复杂。</li>
<li><ul>
<li>装饰者一般对组件的客户是透明的，除非客户程序依赖于组件的具体类型</li>
</ul>
</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-7"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45034708/article/details/114972361?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163126964116780271594213%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163126964116780271594213&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-114972361.pc_search_insert_download&utm_term=%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >设计模式-外观模式（家庭影院你值得拥有）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" > 23种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h1><h2 id="类型-结构型模式"><a href="#类型-结构型模式" class="headerlink" title="类型:结构型模式"></a>类型:结构型模式</h2><p>外观模式可以理解为转换一群接口，客户只要调用这一个接口而不用调用多个接口才能达到目的，也不需关心这个子系统的内部细节。就是解决多个复杂接口带来的使用困难，起到简化用户操作的作用。</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>Facade外观类：提供统一的调用接口，外观类知道哪些子系统负责处理请求，从而将调用端的请求代理给相应子系统对象。</li>
<li>System子系统：处理Facade对象指派的任务，是功能的实际提供者。</li>
<li>Client客户端：外观接口调用测试者。</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/1a478fb732b54b9fbcdd26178a668eb2.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/86b316906cde47acb107fbaaadcf2afc.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="system"><a href="#system" class="headerlink" title="system"></a>system</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 外观模式.system;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CPU</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;cpu启动&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutDown</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;CPU关闭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 外观模式.system;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Disk</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Disk启动&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutDown</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Disk关闭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 外观模式.system;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Memory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Memory启动&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutDown</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Memory关闭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------</span><br></pre></td></tr></table></figure></div>

<h2 id="facade"><a href="#facade" class="headerlink" title="facade"></a>facade</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 外观模式.facade;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 外观模式.system.CPU;</span><br><span class="line"><span class="keyword">import</span> 外观模式.system.Disk;</span><br><span class="line"><span class="keyword">import</span> 外观模式.system.Memory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> CPU cpu;</span><br><span class="line">    <span class="keyword">private</span> Memory memory;</span><br><span class="line">    <span class="keyword">private</span> Disk disk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Computer</span><span class="params">()</span> &#123;</span><br><span class="line">        cpu = <span class="keyword">new</span> <span class="title class_">CPU</span>();</span><br><span class="line">        memory = <span class="keyword">new</span> <span class="title class_">Memory</span>();</span><br><span class="line">        disk = <span class="keyword">new</span> <span class="title class_">Disk</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;电脑开始开机&quot;</span>);</span><br><span class="line">        cpu.start();</span><br><span class="line">        disk.start();</span><br><span class="line">        memory.start();</span><br><span class="line">        System.out.println(<span class="string">&quot;电脑开机完毕&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutDown</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;电脑开始关机&quot;</span>);</span><br><span class="line">        cpu.shutDown();</span><br><span class="line">        disk.shutDown();</span><br><span class="line">        memory.shutDown();</span><br><span class="line">        System.out.println(<span class="string">&quot;电脑关机完毕&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="client"><a href="#client" class="headerlink" title="client"></a>client</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 外观模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 外观模式.facade.Computer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Computer</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;---用户开机---&quot;</span>);</span><br><span class="line">        computer.start();</span><br><span class="line">        System.out.println(<span class="string">&quot;\n---用户关机---&quot;</span>);</span><br><span class="line">        computer.shutDown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---用户开机---</span><br><span class="line">电脑开始开机</span><br><span class="line">cpu启动</span><br><span class="line">Disk启动</span><br><span class="line">Memory启动</span><br><span class="line">电脑开机完毕</span><br><span class="line"></span><br><span class="line">---用户关机---</span><br><span class="line">电脑开始关机</span><br><span class="line">CPU关闭</span><br><span class="line">Disk关闭</span><br><span class="line">Memory关闭</span><br><span class="line">电脑关机完毕</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ol>
<li>外观模式对客户端与子系统的耦合关系，让子系统内部的模块更易维护和扩展。</li>
<li>外观模式对外屏蔽了子系统的细节，因此外观模式降低了客户端对子系统使用的复 杂性。</li>
<li>当系统需要进行分层设计时，可以考虑外观模式帮我们更好的划分访问的层次。</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>在维护一个遗留的大型系统时，可能这个系统已经变得非常难以维护和扩展，此时<br>可以考虑为新系统开发一个Facade类，来提供遗留系统的比较清晰简单的接口，让新系统与Facade类交互，提高复用性。</li>
<li>不能过多的或者不合理的使用外观模式，使用外观模式好，还是直接调用模块好。 要以让系统有层次，利于维护为目的。</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-8"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/lyabc123456/article/details/80415830?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163127387116780269883098%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163127387116780269883098&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-6-80415830.pc_search_insert_download&utm_term=%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >组合模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="组合模式"><a href="#组合模式" class="headerlink" title="组合模式"></a>组合模式</h1><h2 id="类型-结构型模式"><a href="#类型-结构型模式" class="headerlink" title="类型:结构型模式"></a>类型:结构型模式</h2><p>将对象组合成树形结构来表示“部分-整体”的层次结构，使得客户能以一致的方式处理个别对象和组合对象。<br>如何解决：叶子和组合节点<strong>实现统一接口</strong>，叶子和组合节点<strong>分别重写</strong>接口的方法，使得调用<strong>方法一致但产生不同结果</strong>。</p>
<p>关键代码：组合节点内部组合该接口，并且含有内部属性 List，里面放 Component。</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>Component 抽象组件：为组合中所有对象提供一个接口，不管是叶子对象还是组合对象。</li>
<li>Composite 组合节点对象：实现了Component的所有操作，并且持有子节点对象。</li>
<li>Leaf 叶节点对象：叶节点对象没有任何子节点，实现了Component中的某些操作。</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149220706-61.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/22a4eb2b0eab47feb335ec68489da3a6.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="component-基类"><a href="#component-基类" class="headerlink" title="component(基类)"></a>component(基类)</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 组合模式.component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">doOperation</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node c)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;叶子结点不能添加子结点&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Node c)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;叶子结点没有子结点&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">getChild</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;叶子结点没有子结点&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Node&gt; <span class="title function_">getChildren</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;叶子结点没有子结点&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="两个子类"><a href="#两个子类" class="headerlink" title="两个子类"></a>两个子类</h2><h3 id="leaf"><a href="#leaf" class="headerlink" title="leaf"></a>leaf</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 组合模式.leaf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 组合模式.component.Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Leaf</span> <span class="keyword">extends</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Leaf</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----叶子节点：&quot;</span>+name+<span class="string">&quot;的操作-----&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h3 id="composite"><a href="#composite" class="headerlink" title="composite"></a>composite</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 组合模式.composite;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 组合模式.component.Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotLeaf</span> <span class="keyword">extends</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NotLeaf</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doOperation</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----非叶结点：&quot;</span>+name+<span class="string">&quot;的操作-----&quot;</span>);</span><br><span class="line">        <span class="comment">//进行所有子节点的操作</span></span><br><span class="line">        <span class="keyword">for</span> (Node node : nodes) &#123;</span><br><span class="line">            node.doOperation();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node c)</span> &#123;</span><br><span class="line">        nodes.add(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Node c)</span> &#123;</span><br><span class="line">        nodes.remove(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">getChild</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nodes.get(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Node&gt; <span class="title function_">getChildren</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nodes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="client-就随便调用方法了，这个模式的树结构在输出语句上看起来挺麻烦"><a href="#client-就随便调用方法了，这个模式的树结构在输出语句上看起来挺麻烦" class="headerlink" title="client(就随便调用方法了，这个模式的树结构在输出语句上看起来挺麻烦)"></a>client(就随便调用方法了，这个模式的树结构在输出语句上看起来挺麻烦)</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 组合模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 组合模式.component.Node;</span><br><span class="line"><span class="keyword">import</span> 组合模式.composite.NotLeaf;</span><br><span class="line"><span class="keyword">import</span> 组合模式.leaf.Leaf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotLeaf</span>(<span class="string">&quot;根结点&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Leaf</span>(<span class="string">&quot;第一个叶子结点&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotLeaf</span>(<span class="string">&quot;第一个非叶结点&quot;</span>);</span><br><span class="line">        node1.add(node2);</span><br><span class="line">        node1.add(node3);</span><br><span class="line">        node1.doOperation();</span><br><span class="line">        System.out.print(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Leaf</span>(<span class="string">&quot;第二个叶子结点&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotLeaf</span>(<span class="string">&quot;第二个非叶结点&quot;</span>);</span><br><span class="line">        node2.add(node4);</span><br><span class="line">        node3.add(node5);</span><br><span class="line">        node5.add(node4);</span><br><span class="line">        node5.doOperation();</span><br><span class="line">        System.out.print(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        node1.doOperation();</span><br><span class="line">        System.out.print(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">        node1.remove(node3);</span><br><span class="line">        node1.doOperation();</span><br><span class="line">        System.out.print(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-----非叶结点：根结点的操作-----</span><br><span class="line">-----叶子节点：第一个叶子结点的操作-----</span><br><span class="line">-----非叶结点：第一个非叶结点的操作-----</span><br><span class="line"></span><br><span class="line">叶子结点不能添加子结点</span><br><span class="line">-----非叶结点：第二个非叶结点的操作-----</span><br><span class="line">-----叶子节点：第二个叶子结点的操作-----</span><br><span class="line"></span><br><span class="line">-----非叶结点：根结点的操作-----</span><br><span class="line">-----叶子节点：第一个叶子结点的操作-----</span><br><span class="line">-----非叶结点：第一个非叶结点的操作-----</span><br><span class="line">-----非叶结点：第二个非叶结点的操作-----</span><br><span class="line">-----叶子节点：第二个叶子结点的操作-----</span><br><span class="line"></span><br><span class="line">-----非叶结点：根结点的操作-----</span><br><span class="line">-----叶子节点：第一个叶子结点的操作-----</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ol>
<li><p>组合模式使得客户端代码可以一致地处理单个对象和组合对象，无须关心自己处理的是单个对象，还是组合对象，这简化了客户端代码；</p>
</li>
<li><p>更容易在组合体内加入新的对象，客户端不会因为加入了新的对象而更改源代码，满足“<strong>开闭原则</strong>”；</p>
</li>
</ol>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ol>
<li><p><strong>设计较复杂</strong>，客户端需要花更多时间理清类之间的层次关系；</p>
</li>
<li><p>不容易限制容器中的构件；</p>
</li>
<li><p>不容易用继承的方法来增加构件的<strong>新功能</strong>；</p>
</li>
</ol></div><div class="tab-pane" id="页面内不重复的id-9"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/chunqiuwei/article/details/79030816" >设计模式之命令模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/chentian114/article/details/83068503?utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.no_search_link" >设计模式6-命令模式（Command）解析+案例实践+总结<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h1><h2 id="类型-行为型"><a href="#类型-行为型" class="headerlink" title="类型:行为型"></a>类型:行为型</h2><p>将一个请求封装为一个对象，从而使你可用不同的请求对象对客户进行参数化；对请求排队或记录请求日志，以及支持可取消的操作。</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>Receive接收者角色，处理命令</li>
<li>Command命令角色，需要执行的请求</li>
<li>Invoker调用者角色，接收命令，并执行命令</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_17,color_FFFFFF,t_70,g_se,x_16-1687149240252-66.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/beedb61eeb404daaa309329ea0a5a70c.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="receiver"><a href="#receiver" class="headerlink" title="receiver"></a>receiver</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 命令模式.receiver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TV</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playCCTV1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--CCTV1--&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playCCTV2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--CCTV2--&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playCCTV3</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--CCTV3--&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="command"><a href="#command" class="headerlink" title="command"></a>command</h2><h3 id="父类"><a href="#父类" class="headerlink" title="父类"></a>父类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 命令模式.command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 命令模式.receiver.TV;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> TV tv;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Command</span><span class="params">(TV tv)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.tv=tv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">excute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="子类"><a href="#子类" class="headerlink" title="子类"></a>子类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 命令模式.command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 命令模式.receiver.TV;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CCTV1Command</span> <span class="keyword">extends</span> <span class="title class_">Command</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CCTV1Command</span><span class="params">(TV tv)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(tv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">excute</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.tv.playCCTV1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 命令模式.command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 命令模式.receiver.TV;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CCTV2Command</span> <span class="keyword">extends</span> <span class="title class_">Command</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CCTV2Command</span><span class="params">(TV tv)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(tv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">excute</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.tv.playCCTV2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 命令模式.command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 命令模式.receiver.TV;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CCTV3Command</span> <span class="keyword">extends</span> <span class="title class_">Command</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CCTV3Command</span><span class="params">(TV tv)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(tv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">excute</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.tv.playCCTV3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------------</span><br></pre></td></tr></table></figure></div>

<h2 id="invoker"><a href="#invoker" class="headerlink" title="invoker"></a>invoker</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 命令模式.invoker;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 命令模式.command.Command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TVController</span> &#123;</span><br><span class="line">    <span class="comment">//创建存储历史命令记录的数组</span></span><br><span class="line">    List&lt;Command&gt; historyRecord = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inputCommand</span><span class="params">(Command command)</span>&#123;</span><br><span class="line">        historyRecord.add(command);</span><br><span class="line">        command.excute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">undo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(historyRecord.isEmpty())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;频道为空，不能执行撤回操作&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(historyRecord.size()==<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;已经是第一个操作了，不能再撤回了&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        historyRecord.remove(historyRecord.size()-<span class="number">1</span>);</span><br><span class="line">        historyRecord.get(historyRecord.size()-<span class="number">1</span>).excute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="client"><a href="#client" class="headerlink" title="client"></a>client</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 命令模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 命令模式.command.CCTV1Command;</span><br><span class="line"><span class="keyword">import</span> 命令模式.command.CCTV2Command;</span><br><span class="line"><span class="keyword">import</span> 命令模式.command.CCTV3Command;</span><br><span class="line"><span class="keyword">import</span> 命令模式.invoker.TVController;</span><br><span class="line"><span class="keyword">import</span> 命令模式.receiver.TV;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">TV</span> <span class="variable">tv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TV</span>();</span><br><span class="line">        <span class="type">TVController</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TVController</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;------切换频道中-----&quot;</span>);</span><br><span class="line">        tc.inputCommand(<span class="keyword">new</span> <span class="title class_">CCTV2Command</span>(tv));</span><br><span class="line">        tc.inputCommand(<span class="keyword">new</span> <span class="title class_">CCTV3Command</span>(tv));</span><br><span class="line">        tc.inputCommand(<span class="keyword">new</span> <span class="title class_">CCTV1Command</span>(tv));</span><br><span class="line">        System.out.println(<span class="string">&quot;-------撤销操作-------&quot;</span>);</span><br><span class="line">        tc.undo();</span><br><span class="line">        tc.undo();</span><br><span class="line">        tc.undo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">------切换频道中-----</span><br><span class="line">--CCTV2--</span><br><span class="line">--CCTV3--</span><br><span class="line">--CCTV1--</span><br><span class="line">-------撤销操作-------</span><br><span class="line">--CCTV3--</span><br><span class="line">--CCTV2--</span><br><span class="line">已经是第一个操作了，不能再撤回了</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ol>
<li>更松散的耦合，将发起命令的<strong>客户端</strong>与具体处理命令的<strong>接收者</strong>完全<strong>解耦</strong>，客户端完全不知道接收者是什么样子。</li>
<li>更动态的控制，<strong>把请求封装</strong>起来，可以<strong>动态的对请求进行参数化、队列化和日志化</strong>等，使系统更灵活。</li>
<li>复合命令，很容易地组合命令，即宏命令，使系统功能更强大。</li>
<li>更好的扩展，很容易添加<strong>新的命令</strong>。</li>
</ol>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>类数量随命令数量增长而增长。可能造成类数量过多。（设计模式常见的缺点）</p></div><div class="tab-pane" id="页面内不重复的id-10"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" >23 种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="模板方法"><a href="#模板方法" class="headerlink" title="模板方法"></a>模板方法</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><p>在父类中定义一个完成该事情的总方法，每个步骤的具体实现，由子类完成。<br>（感觉就是多态的内容）</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>抽象父类（AbstractClass）：实现了模板方法，定义了算法的骨架。</li>
<li>具体类（ConcreteClass)：实现抽象类中的抽象方法，即不同的对象的具体实现细节。</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149248823-71.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/cbc4110acbd644148375f589a77c21d8.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="模板类"><a href="#模板类" class="headerlink" title="模板类"></a>模板类</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 模板方法模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Dish</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doDish</span><span class="params">()</span>&#123;</span><br><span class="line">        prepare();</span><br><span class="line">        cook();</span><br><span class="line">        serve();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">prepare</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">cook</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">serve</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="具体子类"><a href="#具体子类" class="headerlink" title="具体子类"></a>具体子类</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 模板方法模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EggSoup</span> <span class="keyword">extends</span> <span class="title class_">Dish</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">prepare</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;准备鸡蛋&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cook</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;煮蛋汤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">serve</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;将汤倒入碗中，上菜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 模板方法模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Steak</span> <span class="keyword">extends</span> <span class="title class_">Dish</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">prepare</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;准备牛排&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cook</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;煎牛排&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">serve</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;将牛排放入盘子上，上菜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------</span><br></pre></td></tr></table></figure></div>

<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 模板方法模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----制作蛋汤----Client-&quot;</span>);</span><br><span class="line">        <span class="type">Dish</span> <span class="variable">eggSoup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EggSoup</span>();</span><br><span class="line">        eggSoup.doDish();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----制作牛排-----&quot;</span>);</span><br><span class="line">        <span class="type">Dish</span> <span class="variable">steak</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Steak</span>();</span><br><span class="line">        steak.doDish();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-----制作蛋汤-----</span><br><span class="line">准备鸡蛋</span><br><span class="line">煮蛋汤</span><br><span class="line">将汤倒入碗中，上菜</span><br><span class="line">-----制作牛排-----</span><br><span class="line">准备牛排</span><br><span class="line">煎牛排</span><br><span class="line">将牛排放入盘子上，上菜</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h2><ol>
<li>具体细节步骤实现<strong>定义在子类中</strong>，子类定义详细处理算法是不会改变算法整体结构。</li>
<li><strong>代码复用</strong>的基本技术，在数据库设计中尤为重要。</li>
<li>存在一种反向的控制结构，通过一个<strong>父类调用其子类的操作</strong>，通过<strong>子类对父类进行扩展</strong>增加新的行为，符合“<strong>开闭原则</strong>”。</li>
</ol>
<h2 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h2><ul>
<li>每个不同的实现都需要定义一个子类，会导致类的个数增加，系统更加庞大。(设计模式常见缺点)</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-11"><h1 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h1><h2 id="类型：行为类"><a href="#类型：行为类" class="headerlink" title="类型：行为类"></a>类型：行为类</h2><h2 id="定义一组算法，将每个算法都封装起来，并且使他们之间可以互换。"><a href="#定义一组算法，将每个算法都封装起来，并且使他们之间可以互换。" class="headerlink" title="定义一组算法，将每个算法都封装起来，并且使他们之间可以互换。"></a>定义一组算法，将每个算法都封装起来，并且使他们之间可以互换。</h2><h2 id="与模板方法模式的比较"><a href="#与模板方法模式的比较" class="headerlink" title="与模板方法模式的比较"></a>与模板方法模式的比较</h2><p> 策略模式与模板方法模式很像，区别在于客户端调用方法时，模板方法模式调用方法的主体是抽象模板类，策略方法调用方法的主体是上下文类（一个在抽象策略类和具体策略类外部的类）</p>
<p> 模板模式一般只针对一套算法，注重对同一个算法的不同细节进行抽象提供不同的实现。而策略模式注重多套算法多套实现，在算法中间不应该有交集，因此算法和算法之间一般不会有冗余代码！</p>
<h3 id="策略模式优缺点"><a href="#策略模式优缺点" class="headerlink" title="策略模式优缺点"></a>策略模式优缺点</h3><h4 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h4><ul>
<li>横向扩展性好，灵活性高</li>
</ul>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>客户端需要知道全部策略，若策略过多会导致复杂度升高</li>
</ul>
<h3 id="模板模式优缺点"><a href="#模板模式优缺点" class="headerlink" title="模板模式优缺点"></a>模板模式优缺点</h3><h4 id="优点：-1"><a href="#优点：-1" class="headerlink" title="优点："></a>优点：</h4><ul>
<li>可维护性好，纵向扩展性好</li>
</ul>
<h4 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>耦合性较高，子类无法影响父类公用模块代码</li>
</ul>
<h2 id="与建造者模式的区别"><a href="#与建造者模式的区别" class="headerlink" title="与建造者模式的区别"></a>与建造者模式的区别</h2><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_30328063/article/details/95338675?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163133921616780255235212%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163133921616780255235212&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-95338675.pc_search_insert_download&utm_term=%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%BB%BA%E9%80%A0%E8%80%85&spm=1018.2226.3001.4187" >策略模式和建造者模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<p>（1）建造者模式是创建型的，也就是说用来创建对象的，而策略模式属于行为型模式，通过将行为封装成对象来降低类之间的耦合度；</p>
<p>（2）策略模式的抽象类仅仅定义了一个算法接口，而建造者模式的抽象类则已经定义好了算法骨架或者过程的步骤，也就是说策略模式的各具体策略在实现上可以差之千里，但是建造者模式的具体建造者必须按照接口中定义好的骨架或步骤去实现；</p>
<p>（3）策略模式的StrategyContext类通过提供一个上下文环境来维护具体策略；而建造者模式的Director类则是封装了Product类的创建细节，便于客户端程序调用。</p>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149257086-76.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/519e6345a651467c9da13fb27a4f2e72.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="strategy"><a href="#strategy" class="headerlink" title="strategy"></a>strategy</h3><h4 id="策略基类"><a href="#策略基类" class="headerlink" title="策略基类"></a>策略基类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 策略模式.strategy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Action</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<h4 id="具体策略类"><a href="#具体策略类" class="headerlink" title="具体策略类"></a>具体策略类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 策略模式.strategy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Walk</span> <span class="keyword">extends</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;走起路来了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 策略模式.strategy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Jump</span> <span class="keyword">extends</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;跳起来了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 策略模式.strategy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Run</span> <span class="keyword">extends</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;跑起步来了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------</span><br></pre></td></tr></table></figure></div>
<h3 id="上下文类"><a href="#上下文类" class="headerlink" title="上下文类"></a>上下文类</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 策略模式.context;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 策略模式.strategy.Action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Context</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Action action;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAction</span><span class="params">(Action action)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.action=action;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doAction</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.action.doAction();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 策略模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 策略模式.context.Context;</span><br><span class="line"><span class="keyword">import</span> 策略模式.strategy.Jump;</span><br><span class="line"><span class="keyword">import</span> 策略模式.strategy.Run;</span><br><span class="line"><span class="keyword">import</span> 策略模式.strategy.Walk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Context</span> <span class="variable">actionContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Context</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        actionContext.setAction(<span class="keyword">new</span> <span class="title class_">Walk</span>());</span><br><span class="line">        actionContext.doAction();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        actionContext.setAction(<span class="keyword">new</span> <span class="title class_">Jump</span>());</span><br><span class="line">        actionContext.doAction();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        actionContext.setAction(<span class="keyword">new</span> <span class="title class_">Run</span>());</span><br><span class="line">        actionContext.doAction();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-------------------</span><br><span class="line">走起路来了</span><br><span class="line">-------------------</span><br><span class="line">跳起来了</span><br><span class="line">-------------------</span><br><span class="line">跑起步来了</span><br><span class="line">-------------------</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ol>
<li>策略模式提供了对 “<strong>开闭原则</strong>” 的完美支持，用户可以在不修改原有系统的基础上选择算法或行为，也可以灵活地增加新的算法或行为。</li>
<li>策略模式提供了管理相关的算法族的办法。策略类的等级结构定义了一个算法或行为族，<strong>恰当使用继承</strong>可以把公共的代码移到抽象策略类中，从而<strong>避免重复</strong>的代码。</li>
<li>策略模式提供了一种可以替换继承关系的办法。如果不使用策略模式而是通过继承，这样算法的使用就和算法本身混在一起，不符合    “<strong>单一职责</strong>原则”，而且使用继承无法实现算法或行为在程序运行时的<strong>动态切换</strong>。</li>
<li>使用策略模式可以<strong>避免多重条件选择语句</strong>。多重条件选择语句是硬编码，不易维护。</li>
<li>策略模式提供了一种<strong>算法的复用</strong>机制，由于将算法单独提取出来封装在策略类中，因此不同的环境类可以方便地复用这些策略类。</li>
</ol>
<h2 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h2><ol>
<li>客户端<strong>必须知道所有的策略类</strong>，并<strong>自行决定使用</strong>哪一个策略类。这就意味着客户端<strong>必须理解</strong>这些算法的区别，以便适时选择恰当的算法。换言之，策略模式只适用于客户端知道所有的算法或行为的情况。</li>
<li>策略模式将造成<strong>系统产生很多具体策略类</strong>，任何细小的变化都将导致系统要增加一个新的具体策略类。</li>
<li>无法同时在客户端使用多个策略类，也就是说，在使用策略模式时，<strong>客户端每次只能使用一个</strong>策略类，不支持使用一个策略类完成部分功能后再使用<strong>另一个策略类来完成剩余功能</strong>的情况。</li>
</ol></div><div class="tab-pane" id="页面内不重复的id-12"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/wwwdc1012/article/details/83353580?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163133958716780366587833%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163133958716780366587833&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-83353580.pc_search_insert_download&utm_term=%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >设计模式 | 备忘录模式及典型应用<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" >23 种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/paincupid/article/details/46983185?ops_request_misc=&request_id=&biz_id=102&utm_term=%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-6-46983185.nonecase&spm=1018.2226.3001.4187" >备忘录模式 - 行为模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="备忘录模式"><a href="#备忘录模式" class="headerlink" title="备忘录模式"></a>备忘录模式</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><p>在<strong>不破坏封装</strong>的前提下，捕获一个对象的内部状态，并在该对象<strong>之外</strong>保存这个状态，这样可以在以后将对象<strong>恢复到原先保存的状态</strong>。它是一种对象行为型模式，其别名为Token。</p>
<h2 id="适用场景："><a href="#适用场景：" class="headerlink" title="适用场景："></a>适用场景：</h2><ul>
<li>保存一个对象在某一个时刻的全部状态或部分状态，这样以后需要时它能够恢复到先前的状态，实现撤销操作。</li>
<li>防止外界对象破坏一个对象历史状态的封装性，避免将对象历史状态的实现细节暴露给外界对象。</li>
</ul>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>发起人（Originator）角色：记录当前时刻的内部状态信息，提供<strong>创建</strong>备忘录和<strong>恢复</strong>备忘录数据的功能，实现其他业务功能，它<strong>可以访问备忘录里的所有信息</strong>。</li>
<li>备忘录（Memento）角色：负责<strong>存储</strong>发起人的内部状态，在需要的时候<strong>提供这些内部状态</strong>给发起人。</li>
<li>管理者（Caretaker）角色：对备忘录进行<strong>管理</strong>，提供<strong>保存与获取备忘录</strong>的功能，但其<strong>不能</strong>对备忘录的内容进行<strong>访问与修改</strong>。</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_19,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/1c2a3635b13c45a5b28514f20f21bfa8.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="memento-一个bean，存放状态"><a href="#memento-一个bean，存放状态" class="headerlink" title="memento(一个bean，存放状态)"></a>memento(一个bean，存放状态)</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 备忘录模式.memento;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Record</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> place;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Record</span><span class="params">(<span class="type">int</span> place)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.place=place;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPlace</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.place;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="careTaker-内置一个集合，用于存放许多历史记录-即前面那个bean-，负责对于记录的存取"><a href="#careTaker-内置一个集合，用于存放许多历史记录-即前面那个bean-，负责对于记录的存取" class="headerlink" title="careTaker(内置一个集合，用于存放许多历史记录(即前面那个bean))，负责对于记录的存取"></a>careTaker(内置一个集合，用于存放许多历史记录(即前面那个bean))，负责对于记录的存取</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 备忘录模式.careTaker;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 备忘录模式.memento.Record;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CareTaker</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Record&gt; recordList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveRecord</span><span class="params">(Record record)</span>&#123;</span><br><span class="line">        recordList.add(record);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Record <span class="title function_">getRecord</span><span class="params">(<span class="type">int</span> idx)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> recordList.get(idx);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="originator-生成记录的类，同时具有回到某一个历史记录的能力"><a href="#originator-生成记录的类，同时具有回到某一个历史记录的能力" class="headerlink" title="originator(生成记录的类，同时具有回到某一个历史记录的能力)"></a>originator(生成记录的类，同时具有回到某一个历史记录的能力)</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 备忘录模式.originator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 备忘录模式.memento.Record;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Player</span> &#123;</span><br><span class="line">     <span class="keyword">private</span> <span class="type">int</span> place;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> Record <span class="title function_">createRecord</span><span class="params">()</span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Record</span>(<span class="built_in">this</span>.place);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">restore</span><span class="params">(Record record)</span>&#123;</span><br><span class="line">          <span class="built_in">this</span>.place=record.getPlace();</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPlace</span><span class="params">()</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">this</span>.place;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPlace</span><span class="params">(<span class="type">int</span> place)</span> &#123;</span><br><span class="line">          <span class="built_in">this</span>.place = place;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="客户端（我这里把他作为一场游戏的进行了）"><a href="#客户端（我这里把他作为一场游戏的进行了）" class="headerlink" title="客户端（我这里把他作为一场游戏的进行了）"></a>客户端（我这里把他作为一场游戏的进行了）</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 备忘录模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 备忘录模式.careTaker.CareTaker;</span><br><span class="line"><span class="keyword">import</span> 备忘录模式.originator.Player;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Game</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Player</span> <span class="variable">player</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Player</span>();</span><br><span class="line">        <span class="type">CareTaker</span> <span class="variable">careTaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CareTaker</span>();</span><br><span class="line">        <span class="comment">//玩家走到1位置</span></span><br><span class="line">        player.setPlace(<span class="number">1</span>);</span><br><span class="line">        careTaker.saveRecord(player.createRecord());</span><br><span class="line">        <span class="comment">//玩家走到2位置</span></span><br><span class="line">        player.setPlace(<span class="number">2</span>);</span><br><span class="line">        careTaker.saveRecord(player.createRecord());</span><br><span class="line">        <span class="comment">//玩家走到3位置</span></span><br><span class="line">        player.setPlace(<span class="number">3</span>);</span><br><span class="line">        careTaker.saveRecord(player.createRecord());</span><br><span class="line">        <span class="comment">//当前玩家到达的位置</span></span><br><span class="line">        System.out.println(<span class="string">&quot;玩家到达了&quot;</span>+player.getPlace());</span><br><span class="line">        <span class="comment">//玩家想回到第一次走到的位置</span></span><br><span class="line">        player.restore(careTaker.getRecord(<span class="number">0</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;玩家回到了&quot;</span>+player.getPlace());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">玩家到达了<span class="number">3</span></span><br><span class="line">玩家回到了<span class="number">1</span></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>备忘录实现了<strong>对信息的封装</strong>，一个备忘录对象是一种原发器对象状态的表示，不会被其他代码所改动。备忘录保存了原发器的状态，采用列表、堆栈等集合来存储备忘录对象可以实现<strong>多次撤销</strong>操作。</li>
<li>备份的状态是保存<strong>在发起人角色之外</strong>的，这样，发起人角色就不需要对各个备份的状态进行管理。</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li><strong>资源消耗过大</strong>，如果需要保存的<strong>原发器类的成员变量太多</strong>，就不可避免需要占用大量的存储空间，每保存一次对象的状态都需要消耗一定的系统资源。</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-13"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/itachi85/article/details/50773358" >设计模式（五）观察者模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><p>定义了一种<strong>一对多</strong>的依赖关系，让多个观察者对象同时监听某一个主题对象。这个主题对象在<strong>状态变化时</strong>，会<strong>通知</strong>所有的观察者对象，使他们能够<strong>自动更新自己</strong>。</p>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149277934-85.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li><p>Subject：抽象主题（抽象被观察者），抽象主题角色把所有观察者对象保存在一个集合里，每个主题都可以有任意数量的观察者，抽象主题<strong>提供一个接口</strong>，可以增加和删除观察者对象。</p>
</li>
<li><p>ConcreteSubject：具体主题（具体被观察者），该角色将有关状态<strong>存入具</strong>体观察者对象，在具体主题的内部状态发生改变时，给<strong>所有注册过的观察者发送通知</strong>。</p>
</li>
<li><p>Observer：抽象观察者，是观察者者的抽象类，它定义了一个<strong>更新</strong>接口，使得在得到主题更改通知时<strong>更新自己</strong>。</p>
</li>
<li><p>ConcrereObserver：具体观察者，实现抽象观察者定义的更新接口，以便在得到主题更改通知时更新自身的状态。</p>
</li>
</ul>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/17db58852e9a44449b1badf773253ef1.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="subject"><a href="#subject" class="headerlink" title="subject"></a>subject</h3><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package 观察者模式.subject;</span><br><span class="line"></span><br><span class="line">import 观察者模式.observer.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">Subject</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addStu</span>(<span class="params">Student student</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteStu</span>(<span class="params">Student student</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">notify</span>(<span class="params">String msg</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="具体子类"><a href="#具体子类" class="headerlink" title="具体子类"></a>具体子类</h4><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package 观察者模式.subject;</span><br><span class="line"></span><br><span class="line">import 观察者模式.observer.Student;</span><br><span class="line"></span><br><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Teacher</span> <span class="title">implements</span> <span class="title">Subject</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Student&gt; studentList = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addStu</span>(<span class="params">Student student</span>)</span> &#123;</span><br><span class="line">        studentList.<span class="keyword">add</span>(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteStu</span>(<span class="params">Student student</span>)</span> &#123;</span><br><span class="line">        studentList.<span class="keyword">remove</span>(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notify</span>(<span class="params">String msg</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(Student student:studentList)&#123;</span><br><span class="line">            student.remind(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="observer"><a href="#observer" class="headerlink" title="observer"></a>observer</h3><h4 id="接口-1"><a href="#接口-1" class="headerlink" title="接口"></a>接口</h4><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">package 观察者模式.observer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">Observer</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">remind</span>(<span class="params">String msg</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="具体子类-1"><a href="#具体子类-1" class="headerlink" title="具体子类"></a>具体子类</h4><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package 观察者模式.observer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Student</span> <span class="title">implements</span> <span class="title">Observer</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span> (<span class="params">String name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remind</span>(<span class="params">String msg</span>)</span> &#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(name+<span class="string">&quot;被告知消息：&quot;</span>+msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package 观察者模式.client;</span><br><span class="line"></span><br><span class="line">import 观察者模式.observer.Student;</span><br><span class="line">import 观察者模式.subject.Teacher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span> &#123;</span><br><span class="line">        Teacher teacher = <span class="keyword">new</span> Teacher();</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">        Student zhang =<span class="keyword">new</span> Student(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        teacher.addStu(zhang);</span><br><span class="line">        teacher.notify(<span class="string">&quot;张三加入我们班了&quot;</span>);</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">        Student li =<span class="keyword">new</span> Student(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        teacher.addStu(li);</span><br><span class="line">        teacher.notify(<span class="string">&quot;李四来我们班了&quot;</span>);</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">        teacher.notify(<span class="string">&quot;老师要抽人回答问题了&quot;</span>);</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">        teacher.deleteStu(li);</span><br><span class="line">        teacher.notify(<span class="string">&quot;李四退出我们班了&quot;</span>);</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------</span><br><span class="line">张三被告知消息：张三加入我们班了</span><br><span class="line">-------------------------------</span><br><span class="line">张三被告知消息：李四来我们班了</span><br><span class="line">李四被告知消息：李四来我们班了</span><br><span class="line">-------------------------------</span><br><span class="line">张三被告知消息：老师要抽人回答问题了</span><br><span class="line">李四被告知消息：老师要抽人回答问题了</span><br><span class="line">-------------------------------</span><br><span class="line">张三被告知消息：李四退出我们班了</span><br><span class="line">-------------------------------</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>解除耦合，让耦合的双方都依赖于抽象，从而使得各自的变换都不会影响另一边的变换。</p>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>在应用观察者模式时需要考虑一下开发效率和运行效率的问题，程序中包括一个被观察者、多个观察者，开发、调试等内容会<strong>比较复杂</strong>，而且在Java中消息的通知一般是顺序执行，那么<strong>一个</strong>观察者卡顿，会<strong>影响整体</strong>的执行效率，在这种情况下，一般会采用<strong>异步实现</strong>。</p></div><div class="tab-pane" id="页面内不重复的id-14"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/jason0539/article/details/23297037?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163143064816780274113403%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163143064816780274113403&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-23297037.pc_search_insert_download&utm_term=%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >JAVA设计模式之单例模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h1><h2 id="类型：创建型"><a href="#类型：创建型" class="headerlink" title="类型：创建型"></a>类型：创建型</h2><p>确保一个类最多只有一个实例，并提供一个全局访问点<br>单例模式有以下特点：</p>
<ol>
<li>单例类只能有<strong>一个</strong>实例。</li>
<li>单例类必须自己创建自己的<strong>唯一</strong>实例。</li>
<li>单例类必须<strong>给所有其他</strong>对象<strong>提供</strong>这一实例。</li>
</ol>
<p>采取的措施：<br>通过将构造方法限定为<strong>private</strong>避免了类在外部被实例化(暂且当做没有反射机制)<br>在同一个虚拟机范围内，Singleton的唯一实例<strong>只能通过getInstance()方法访问</strong>。</p>
<h2 id="饿汉型"><a href="#饿汉型" class="headerlink" title="饿汉型"></a>饿汉型</h2><p>相对而言要考虑的较少，因为他的机制使他天生就是线程安全的，故放在第一个</p>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package 单例模式.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PreloadSingleton</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> PreloadSingleton instance = <span class="keyword">new</span> PreloadSingleton();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//避免了类在外部被实例化</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">PreloadSingleton</span>()</span> &#123; &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PreloadSingleton <span class="title">getInstance</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="懒汉型"><a href="#懒汉型" class="headerlink" title="懒汉型"></a>懒汉型</h2><h3 id="版本1-0"><a href="#版本1-0" class="headerlink" title="版本1.0"></a>版本1.0</h3><p>最基本的样子，当第一次调用getInstance方法时才new实例</p>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package 单例模式.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LazyLoadSingleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyLoadSingleton instance=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyLoadSingleton</span>()</span>&#123; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazyLoadSingleton <span class="title">getInstance</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(instance==<span class="literal">null</span>) &#123;</span><br><span class="line">            instance=<span class="keyword">new</span> LazyLoadSingleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>但是它是<strong>线程不安全</strong>的，<strong>并发环境</strong>下很可能出现多个LazyLoadSingleton实例</p>
<h3 id="版本2-0"><a href="#版本2-0" class="headerlink" title="版本2.0"></a>版本2.0</h3><p>使用线程同步，保证线程安全<br>但是，如果要经常的调用getInstance()方法，不管有没有初始化实例，都会唤醒和阻塞线程。</p>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package 单例模式.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LazyLoadSingleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyLoadSingleton instance=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyLoadSingleton</span>()</span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> synchronized LazyLoadSingleton <span class="title">getInstance</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(instance==<span class="literal">null</span>) &#123;</span><br><span class="line">            instance=<span class="keyword">new</span> LazyLoadSingleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="版本3-0"><a href="#版本3-0" class="headerlink" title="版本3.0"></a>版本3.0</h3><p>把sychronized加在if(instance&#x3D;&#x3D;null)判断语句里面，保证instance未实例化的时候才加锁</p>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package 单例模式.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LazyLoadSingleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazyLoadSingleton instance=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyLoadSingleton</span>()</span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> synchronized LazyLoadSingleton <span class="title">getInstance</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(instance==<span class="literal">null</span>) &#123;</span><br><span class="line">            synchronized (LazyLoadSingleton.<span class="keyword">class</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(instance==<span class="literal">null</span>) &#123;</span><br><span class="line">                    instance=<span class="keyword">new</span> LazyLoadSingleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="终极版本"><a href="#终极版本" class="headerlink" title="终极版本"></a>终极版本</h3><p>new 一个对象是有代码<strong>执行顺序</strong>的，而并发环境下是<strong>无法保证</strong>顺序性的<br>因此，我们需要使用另一个关键字<strong>volatile</strong>保证对象实例化过程的顺序性。</p>
<blockquote>
<p>memory&#x3D;allocate();&#x2F;&#x2F;1:初始化内存空间<br>ctorInstance(memory);&#x2F;&#x2F;2:初始化对象<br>instance&#x3D;memory();&#x2F;&#x2F;3:设置instance指向刚分配的内存地址</p>
</blockquote>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package 单例模式.singleton;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LazyLoadSingleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> LazyLoadSingleton instance=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyLoadSingleton</span>()</span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> synchronized LazyLoadSingleton <span class="title">getInstance</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(instance==<span class="literal">null</span>) &#123;</span><br><span class="line">            synchronized (LazyLoadSingleton.<span class="keyword">class</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(instance==<span class="literal">null</span>) &#123;</span><br><span class="line">                    instance=<span class="keyword">new</span> LazyLoadSingleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="线程安全："><a href="#线程安全：" class="headerlink" title="线程安全："></a>线程安全：</h3><p>饿汉式天生就是线程安全的，可以直接用于多线程而不会出现问题，</p>
<p>懒汉式本身是非线程安全的，为了实现线程安全有几种写法，这三种实现在资源加载和性能方面有些区别。</p>
<h3 id="资源加载和性能："><a href="#资源加载和性能：" class="headerlink" title="资源加载和性能："></a>资源加载和性能：</h3><p>饿汉式在类创建的同时就实例化一个静态对象出来，不管之后会不会使用这个单例，都会占据一定的内存，但是相应的，在第一次调用时速度也会更快，因为其资源已经初始化完成，</p>
<p>而懒汉式顾名思义，会延迟加载，在第一次使用该单例的时候才会实例化对象出来，第一次调用时要做初始化，如果要做的工作比较多，性能上会有些延迟，之后就和饿汉式一样了。</p></div><div class="tab-pane" id="页面内不重复的id-15"><h1 id="迭代器模式"><a href="#迭代器模式" class="headerlink" title="迭代器模式"></a>迭代器模式</h1><h2 id="类型：行为类"><a href="#类型：行为类" class="headerlink" title="类型：行为类"></a>类型：行为类</h2><p>提供一种方法访问一个容器对象中各个元素，而又不暴露该对象的内部细节。</p>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_18,color_FFFFFF,t_70,g_se,x_16.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>抽象容器：一般是一个接口，提供一个iterator()方法，例如java中的Collection接口，List接口，Set接口等。</li>
<li>具体容器：就是抽象容器的具体实现类，比如List接口的有序列表实现ArrayList，List接口的链表实现LinkList，Set接口的哈希列表的实现HashSet等。</li>
<li>抽象迭代器：定义遍历元素所需要的方法，一般来说会有这么三个方法：取得第一个元素的方法first()，取得下一个元素的方法next()，判断是否遍历结束的方法isDone()（或者叫hasNext()），移出当前对象的方法remove(),</li>
<li>迭代器实现：实现迭代器接口中定义的方法，完成集合的迭代。</li>
</ul>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>这个感觉没啥好说的，用过集合的人应该都有所体会，迭代器关键就在于他实现了对内部结构的遍历算法，使内部结构对用户隐藏，对外部只暴露方法供调用<br>这里只是使用了一下迭代器，体现他的作用</p>
<div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">package 迭代器模式;</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] <span class="keyword">args</span></span>)</span> &#123;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;--------------List集合的遍历&quot;</span>);</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        list.<span class="keyword">add</span>(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        list.<span class="keyword">add</span>(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        list.<span class="keyword">add</span>(<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        list.<span class="keyword">add</span>(<span class="string">&quot;赵六&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; iterator1 = list.listIterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator1.hasNext())&#123;</span><br><span class="line">            System.<span class="keyword">out</span>.println(iterator1.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;-------------Map集合的遍历&quot;</span>);</span><br><span class="line">        HashMap&lt;String,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;张三&quot;</span>,<span class="string">&quot;三&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;四&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;王五&quot;</span>,<span class="string">&quot;五&quot;</span>);</span><br><span class="line">        Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iterator2 = map.entrySet().iterator();<span class="comment">//返回所有的entry实体</span></span><br><span class="line"></span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;------------遍历键值对&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (iterator2.hasNext()) &#123;</span><br><span class="line">        	Map.Entry&lt;String, String&gt; next1 = iterator2.next();</span><br><span class="line">        	String key = next1.getKey();</span><br><span class="line">        	String <span class="keyword">value</span> = next1.getValue();</span><br><span class="line">        	System.<span class="keyword">out</span>.println(key+<span class="string">&quot; &quot;</span>+<span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;------------遍历键&quot;</span>);</span><br><span class="line">        Iterator  iterator3 = map.keySet().iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator3.hasNext()) &#123;</span><br><span class="line">        	System.<span class="keyword">out</span>.println(iterator3.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.<span class="keyword">out</span>.println(<span class="string">&quot;------------遍历值&quot;</span>);</span><br><span class="line">        Iterator iterator4 = map.values().iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator4.hasNext()) &#123;</span><br><span class="line">        	System.<span class="keyword">out</span>.println(iterator4.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Csharp"><figure class="iseeu highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">--------------List集合的遍历</span><br><span class="line">张三</span><br><span class="line">李四</span><br><span class="line">王五</span><br><span class="line">赵六</span><br><span class="line">-------------Map集合的遍历</span><br><span class="line">------------遍历键值对</span><br><span class="line">李四 四</span><br><span class="line">张三 三</span><br><span class="line">王五 五</span><br><span class="line">------------遍历键</span><br><span class="line">李四</span><br><span class="line">张三</span><br><span class="line">王五</span><br><span class="line">------------遍历值</span><br><span class="line">四</span><br><span class="line">三</span><br><span class="line">五</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li><strong>简化</strong>了遍历方式</li>
<li>可以提供多种遍历方式，比如提供正序遍历和倒序遍历，用户只需要得到我们实现好的迭代器，就可以方便的对集合进行遍历了。</li>
<li>封装性良好，用户只需要得到迭代器就可以遍历，而对于遍历算法则<strong>不用去关心</strong>。</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>对于比较简单的遍历（像数组或者有序列表），使用迭代器方式遍历较为繁琐，大家可能都有感觉，像ArrayList，我们宁可愿意使用for循环和get方法来遍历集合。</p></div><div class="tab-pane" id="页面内不重复的id-16"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39296283/article/details/104953668" >桥接模式（Bridge Pattern）-（最通俗易懂的案例）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> </p>
</blockquote>
<h1 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h1><p>通过使用封装、聚合及继承等行为让不同的类承担不同的职责。<br>将抽象部分与它的实现部分分离，使它们都可以独立地变化。<br>简单而言就是对于每一种特点，抽象成一个类</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>Client 类：桥接模式的调用者</li>
<li>抽象类(Abstraction) :维护了 Implementor &#x2F; 即它的实现类 ConcreteImplementorA…, 二者是聚合关系, Abstraction充当桥接类</li>
<li>RefinedAbstraction : 是 Abstraction 抽象类的子类</li>
<li>Implementor : 行为实现类的接口</li>
<li>ConcreteImplementorA &#x2F;B ：行为的具体实现类<br>从 UML 图：这里的抽象类和接口是聚合的关系，是调用和被调用关系</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149629430-92.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/4f9a3cdb41334cc2a91f9920f5ea0f60.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="shape"><a href="#shape" class="headerlink" title="shape"></a>shape</h3><h4 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 桥接模式.shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 桥接模式.color.Color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> Color color;</span><br><span class="line">    <span class="keyword">protected</span> String shape;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">getShape</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(Color color)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> Color <span class="title function_">getColor</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="具体"><a href="#具体" class="headerlink" title="具体"></a>具体</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 桥接模式.shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 桥接模式.color.Color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>.shape=<span class="string">&quot;圆形&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getShape</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.shape;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Color <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 桥接模式.shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 桥接模式.color.Color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>.shape=<span class="string">&quot;长方形&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getShape</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.shape;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.color=color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Color <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------</span><br></pre></td></tr></table></figure></div>

<h3 id="color"><a href="#color" class="headerlink" title="color"></a>color</h3><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 桥接模式.color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    String <span class="title function_">getColor</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="实现类"><a href="#实现类" class="headerlink" title="实现类"></a>实现类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 桥接模式.color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Green</span> <span class="keyword">implements</span> <span class="title class_">Color</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">color</span> <span class="operator">=</span> <span class="string">&quot;绿色&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 桥接模式.color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Red</span> <span class="keyword">implements</span> <span class="title class_">Color</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">color</span> <span class="operator">=</span> <span class="string">&quot;红色&quot;</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------</span><br></pre></td></tr></table></figure></div>
<h2 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h2><ul>
<li>实现抽象和实现的<strong>分离</strong></li>
<li>桥接模式提高了系统的可扩充性，在两个变化维度中<strong>任意扩展一个维度</strong>，都不需要修改原有系统</li>
<li>桥接模式有时类似于多继承方案，但是多继承方案违背了类的单一职责原则（即一个类只有一个变化的原因），复用性比较差，而且多继承结构中类的个数非常庞大，桥接模式是比多继承方案更好的解决方法</li>
</ul>
<h2 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h2><ul>
<li>桥接模式的引入会增加系统的理解与<strong>设计难度</strong>，由于<strong>聚合关联关系建立在抽象层</strong>，要求开发者针对抽象进行设计与编程。</li>
<li>桥接模式要求正确<strong>识别</strong>出系统中两个<strong>独立变化</strong>的<strong>维度</strong>，因此其使用范围具有一定的局限性。</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-17"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zhen921/article/details/82316707?utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-2.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-2.no_search_link" >设计模式入门——中介者模式（mediator）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zhengzhb/article/details/7430098" >23种设计模式（7）：中介者模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="中介者模式"><a href="#中介者模式" class="headerlink" title="中介者模式"></a>中介者模式</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_16,color_FFFFFF,t_70,g_se,x_16-1687149638895-97.png"
                      alt="在这里插入图片描述"
                ><br>这个中介者负责与对象之间联系，对象与对象之间不再进行直接的交互，也就是对对象关系进行解耦</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>抽象中介者（mediator）：定义一个接口用于和对象通信（SmartDevice）</li>
<li>具体中介者（concretemediator）：协调各同事对象实现协作，了解维护各个同事()</li>
<li>抽象同事角色（colleague）：规定了同事的基本类型</li>
<li>具体同事角色（concreteColleague）：每个同事都知道中介者对象，要与同事通信则把通信告诉中介者</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_18,color_FFFFFF,t_70,g_se,x_16-1687149638896-98.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/5995494c9a5547b6ab62264ce4511528.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="同事类"><a href="#同事类" class="headerlink" title="同事类"></a>同事类</h3><h4 id="基类"><a href="#基类" class="headerlink" title="基类"></a>基类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 中介者模式.colleague;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractColleague</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String book;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBook</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> book;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBook</span><span class="params">(String book)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.book = book;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="具体子类"><a href="#具体子类" class="headerlink" title="具体子类"></a>具体子类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 中介者模式.colleague;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 中介者模式.mediator.AbstractMediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Wang</span> <span class="keyword">extends</span> <span class="title class_">AbstractColleague</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">giveBookToZhang</span><span class="params">(AbstractMediator mediator)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;老王将书&quot;</span>+book+<span class="string">&quot;给了中介者&quot;</span>);</span><br><span class="line">        mediator.wangGiveZhang(<span class="built_in">super</span>.book);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">---------------------------------------------------------------</span><br><span class="line"><span class="keyword">package</span> 中介者模式.colleague;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 中介者模式.mediator.AbstractMediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Zhang</span> <span class="keyword">extends</span> <span class="title class_">AbstractColleague</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">giveBookToWang</span><span class="params">(AbstractMediator mediator)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;老张将书&quot;</span>+book+<span class="string">&quot;给了中介者&quot;</span>);</span><br><span class="line">        mediator.zhangGiveWang(<span class="built_in">super</span>.book);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="中介者"><a href="#中介者" class="headerlink" title="中介者"></a>中介者</h3><h4 id="基类-1"><a href="#基类-1" class="headerlink" title="基类"></a>基类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 中介者模式.mediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 中介者模式.colleague.AbstractColleague;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractMediator</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> AbstractColleague wang;</span><br><span class="line">    <span class="keyword">protected</span> AbstractColleague zhang;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AbstractMediator</span><span class="params">(AbstractColleague wang, AbstractColleague zhang)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.wang = wang;</span><br><span class="line">        <span class="built_in">this</span>.zhang = zhang;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">wangGiveZhang</span><span class="params">(String book)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">zhangGiveWang</span><span class="params">(String book)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="具体子类-1"><a href="#具体子类-1" class="headerlink" title="具体子类"></a>具体子类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 中介者模式.mediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 中介者模式.colleague.AbstractColleague;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mediator</span> <span class="keyword">extends</span> <span class="title class_">AbstractMediator</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Mediator</span><span class="params">(AbstractColleague wang, AbstractColleague zhang)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(wang, zhang);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">wangGiveZhang</span><span class="params">(String book)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;中介者得到了老王给来的书&quot;</span>+book+<span class="string">&quot;并交给了老张&quot;</span>);</span><br><span class="line">        <span class="built_in">super</span>.zhang.setBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">zhangGiveWang</span><span class="params">(String book)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;中介者得到了老张给来的书&quot;</span>+book+<span class="string">&quot;并交给了老王&quot;</span>);</span><br><span class="line">        <span class="built_in">super</span>.wang.setBook(book);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 中介者模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 中介者模式.colleague.AbstractColleague;</span><br><span class="line"><span class="keyword">import</span> 中介者模式.colleague.Wang;</span><br><span class="line"><span class="keyword">import</span> 中介者模式.colleague.Zhang;</span><br><span class="line"><span class="keyword">import</span> 中介者模式.mediator.AbstractMediator;</span><br><span class="line"><span class="keyword">import</span> 中介者模式.mediator.Mediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Wang</span> <span class="variable">wang</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Wang</span>();</span><br><span class="line">        <span class="type">Zhang</span> <span class="variable">zhang</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Zhang</span>();</span><br><span class="line">        <span class="type">AbstractMediator</span> <span class="variable">mediator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Mediator</span>(wang,zhang);</span><br><span class="line">        System.out.println(<span class="string">&quot;--------先让老王获得书--------&quot;</span>);</span><br><span class="line">        wang.setBook(<span class="string">&quot;《假如我有三天光明》&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;---------再让老王把书给老张---------&quot;</span>);</span><br><span class="line">        wang.giveBookToZhang(mediator);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------查看老张手上的书-----------&quot;</span>);</span><br><span class="line">        System.out.println(zhang.getBook());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">--------先让老王获得书--------</span><br><span class="line">---------再让老王把书给老张---------</span><br><span class="line">老王将书《假如我有三天光明》给了中介者</span><br><span class="line">中介者得到了老王给来的书《假如我有三天光明》并交给了老张</span><br><span class="line">-----------查看老张手上的书-----------</span><br><span class="line">《假如我有三天光明》</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="模式优缺点"><a href="#模式优缺点" class="headerlink" title="模式优缺点"></a>模式优缺点</h2><p>中介者模式很容易在系统中应用，也很容易在系统中<strong>误用</strong>，当系统出现了‘多对多’交互复杂的对象群时，<strong>不要急于使用</strong>中介者模式，而要先反思你的系统在设计上是不是合理。</p>
<h3 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h3><ul>
<li>Mediator的出现减少了各个Colleague的耦合，使得可以<strong>独立的改变</strong>和<strong>复用</strong>各个ColleagueMediator；</li>
<li>由于把对象如何协作进行了抽象，将中介者作为一个独立的概念并将其封装在一个对象中，这样关注的对象就从对象各自本身的行为<strong>转移</strong>到了他们之间的交互上来，也就是站在一个更宏观的角度去看待系统</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>由于ConcreteMediator控制了集中化，于是就把交互复杂性变为了<strong>中介者的复杂性</strong>，这就使得中介者会变得比任何一个ConcreteColleague都<strong>复杂</strong>。</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-18"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zhengzhb/article/details/7666020" >23种设计模式（14）：解释器模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/niunai112/article/details/79982712?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163151446616780366565829%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=163151446616780366565829&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-79982712.pc_search_insert_download&utm_term=%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >设计模式（二十）解释器模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="解释器模式（据说用的非常少，我就没怎么研究了）"><a href="#解释器模式（据说用的非常少，我就没怎么研究了）" class="headerlink" title="解释器模式（据说用的非常少，我就没怎么研究了）"></a>解释器模式（据说用的非常少，我就没怎么研究了）</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><p>给定一种语言，定义他的文法的一种表示，并定义一个解释器，该解释器使用该表示来解释语言中句子。</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>抽象解释器（AbstractExpression）：具体的解释任务由各个实现类完成。</li>
<li>终结符表达式（TerminalExpression）：实现与文法中的元素相关联的解释操作，通常一个解释器模式中只有一个终结表达式，但有多个实例，对应不同的终结符。</li>
<li>非终结符表达式（NonterminalExpression）：文法中的每条规则对应于一个非终结表达式，非终结符表达式根据逻辑的复杂程度而增加，原则上每个文法规则都对应一个非终结符表达式</li>
<li>上下文（Context）: 上下文环境类,包含解释器之外的全局信息</li>
<li>客户类（Client）: 客户端,解析表达式,构建抽象语法树,执行具体的解释操作等.</li>
</ul>
<h2 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149646403-105.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Context</span> &#123;</span>&#125;</span><br><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Expression</span> &#123;</span></span><br><span class="line">	public abstract Object <span class="title function_">interpreter</span><span class="params">(Context ctx)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TerminalExpression</span> <span class="title">extends</span> <span class="title">Expression</span> &#123;</span></span><br><span class="line">	public Object <span class="title function_">interpreter</span><span class="params">(Context ctx)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> null;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NonterminalExpression</span> <span class="title">extends</span> <span class="title">Expression</span> &#123;</span></span><br><span class="line">	public <span class="title function_">NonterminalExpression</span><span class="params">(Expression...expressions)</span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	public Object <span class="title function_">interpreter</span><span class="params">(Context ctx)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> null;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Client</span> &#123;</span></span><br><span class="line">	public <span class="type">static</span> <span class="type">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">		String expression = <span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="type">char</span>[] charArray = expression.toCharArray();</span><br><span class="line">		Context ctx = new Context();</span><br><span class="line">		Stack&lt;Expression&gt; <span class="built_in">stack</span> = new Stack&lt;Expression&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;charArray.length;i++)&#123;</span><br><span class="line">			<span class="comment">//进行语法判断，递归调用</span></span><br><span class="line">		&#125;</span><br><span class="line">		Expression <span class="built_in">exp</span> = <span class="built_in">stack</span>.pop();</span><br><span class="line">		<span class="built_in">exp</span>.interpreter(ctx);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>文法递归的代码部分需要根据具体的情况来实现，因此在代码中没有体现。抽象表达式是生成语法集合的关键，每个非终结符表达式解释一个<strong>最小的语法单元</strong>，然后通过<strong>递归</strong>的方式将这些语法单元<strong>组合成完整的文法</strong>，这就是解释器模式。</p>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ol>
<li><strong>扩展性强</strong>，若要新增乘，除，添加相应的非终结表达式，修改计算逻辑即可。</li>
</ol>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ol>
<li>需要建<strong>大量的类</strong>，因为每一种语法都要建一个非终结符的类。</li>
<li>解释的时候采用递归调用方法，导致有时候<strong>函数的深度会很深</strong>，影响效率。</li>
</ol></div><div class="tab-pane" id="页面内不重复的id-19"><blockquote>
<p>参考<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zhengzhb/article/details/7489639" >23种设计模式（9）：访问者模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="访问者模式"><a href="#访问者模式" class="headerlink" title="访问者模式"></a>访问者模式</h1><h2 id="类型：行为类"><a href="#类型：行为类" class="headerlink" title="类型：行为类"></a>类型：行为类</h2><h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>抽象访问者：抽象类或者接口，声明访问者<strong>可以访问哪些</strong>元素，具体到程序中就是visit方法中的参数定义哪些对象是可以被访问的。</li>
<li>访问者：实现抽象访问者所声明的方法，它影响到访问者<strong>访问到一个类后该干什么，要做什么事情</strong>。</li>
<li>抽象元素类：接口或者抽象类，声明<strong>接受哪一类访问者访问</strong>，程序上是通过accept方法中的参数来定义的。抽象元素一般有两类方法，一部分是本身的业务逻辑，另外就是允许接收哪类访问者来访问。</li>
<li>元素类：实现抽象元素类所声明的accept方法，通常都是visitor.visit(this)，基本上已经形成一种定式了。</li>
<li>结构对象：一个元素的容器，一般包含一个容纳多个不同类、不同接口的容器，如List、Set、Map等，在项目中一般<strong>很少抽象</strong>出这个角色。</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149653095-108.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h2><ul>
<li>假如一个对象中存在着一些与本对象不相干（或者关系较弱）的操作，为了避免这些操作污染这个对象，则可以使用访问者模式来把这些操作封装到访问者中去。</li>
<li>假如一组对象中，存在着相似的操作，为了避免出现大量重复的代码，也可以将这些重复的操作封装到访问者中去。</li>
</ul>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/10c08842e19e43e2b538d02209584105.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="访问者"><a href="#访问者" class="headerlink" title="访问者"></a>访问者</h3><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package 访问者模式.visitor;</span><br><span class="line"></span><br><span class="line">import 访问者模式.element.ConcreteElement1;</span><br><span class="line">import 访问者模式.element.ConcreteElement2;</span><br><span class="line"></span><br><span class="line">public interface IVisitor &#123;</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">visit</span><span class="params">(ConcreteElement1 el1)</span>;</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">visit</span><span class="params">(ConcreteElement2 el2)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="实现类"><a href="#实现类" class="headerlink" title="实现类"></a>实现类</h4><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package 访问者模式.visitor;</span><br><span class="line"></span><br><span class="line">import 访问者模式.element.ConcreteElement1;</span><br><span class="line">import 访问者模式.element.ConcreteElement2;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Visitor</span> <span class="title">implements</span> <span class="title">IVisitor</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">visit</span><span class="params">(ConcreteElement1 el1)</span> &#123;</span><br><span class="line">        el1.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">visit</span><span class="params">(ConcreteElement2 el2)</span> &#123;</span><br><span class="line">        el2.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="元素"><a href="#元素" class="headerlink" title="元素"></a>元素</h3><h4 id="基类"><a href="#基类" class="headerlink" title="基类"></a>基类</h4><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">package 访问者模式.element;</span><br><span class="line"></span><br><span class="line">import 访问者模式.visitor.IVisitor;</span><br><span class="line"></span><br><span class="line">public abstract <span class="class"><span class="keyword">class</span> <span class="title">Element</span> &#123;</span></span><br><span class="line">    public abstract <span class="type">void</span> <span class="title function_">accept</span><span class="params">(IVisitor visitor)</span>;</span><br><span class="line">    public abstract <span class="type">void</span> <span class="title function_">doSomething</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="具体类"><a href="#具体类" class="headerlink" title="具体类"></a>具体类</h4><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package 访问者模式.element;</span><br><span class="line"></span><br><span class="line">import 访问者模式.visitor.IVisitor;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">ConcreteElement1</span> <span class="title">extends</span> <span class="title">Element</span> &#123;</span></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">doSomething</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是元素1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">accept</span><span class="params">(IVisitor visitor)</span> &#123;</span><br><span class="line">        visitor.visit(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">package 访问者模式.element;</span><br><span class="line"></span><br><span class="line">import 访问者模式.visitor.IVisitor;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">ConcreteElement2</span> <span class="title">extends</span> <span class="title">Element</span> &#123;</span></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">doSomething</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是元素2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">accept</span><span class="params">(IVisitor visitor)</span> &#123;</span><br><span class="line">        visitor.visit(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="结构对象"><a href="#结构对象" class="headerlink" title="结构对象"></a>结构对象</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package 访问者模式.objectStructure;</span><br><span class="line"></span><br><span class="line">import 访问者模式.element.ConcreteElement1;</span><br><span class="line">import 访问者模式.element.ConcreteElement2;</span><br><span class="line">import 访问者模式.element.Element;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Random;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">ObjectStructure</span> &#123;</span></span><br><span class="line">    public <span class="type">static</span> List&lt;Element&gt; <span class="title function_">getList</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Element&gt; <span class="built_in">list</span> = new ArrayList&lt;&gt;();</span><br><span class="line">        Random ran = new Random();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">            <span class="type">int</span> a = ran.nextInt(<span class="number">100</span>);</span><br><span class="line">            <span class="keyword">if</span>(a&gt;<span class="number">50</span>)&#123;</span><br><span class="line">                <span class="built_in">list</span>.add(new ConcreteElement1());</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">list</span>.add(new ConcreteElement2());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">list</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package 访问者模式.client;</span><br><span class="line"></span><br><span class="line">import 访问者模式.objectStructure.ObjectStructure;</span><br><span class="line">import 访问者模式.visitor.Visitor;</span><br><span class="line">import 访问者模式.element.Element;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Client</span> &#123;</span></span><br><span class="line">    public <span class="type">static</span> <span class="type">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        List&lt;Element&gt; <span class="built_in">list</span> = ObjectStructure.getList();</span><br><span class="line">        <span class="keyword">for</span>(Element e: <span class="built_in">list</span>)&#123;</span><br><span class="line">            e.accept(new Visitor());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">这是元素<span class="number">2</span></span><br><span class="line">这是元素<span class="number">1</span></span><br><span class="line">这是元素<span class="number">1</span></span><br><span class="line">这是元素<span class="number">2</span></span><br><span class="line">这是元素<span class="number">2</span></span><br><span class="line">这是元素<span class="number">2</span></span><br><span class="line">这是元素<span class="number">1</span></span><br><span class="line">这是元素<span class="number">2</span></span><br><span class="line">这是元素<span class="number">1</span></span><br><span class="line">这是元素<span class="number">2</span></span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>



<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>符合单一职责原则：凡是适用访问者模式的场景中，元素类中需要封装在访问者中的操作必定是与元素类本身关系不大且是易变的操作，使用访问者模式一方面符合单一职责原则，另一方面，因为被封装的操作通常来说都是易变的，所以当发生变化时，就可以在不改变元素类本身的前提下，实现对变化部分的扩展。</li>
<li>扩展性良好：元素类可以通过接受不同的访问者来实现对不同操作的扩展。</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>增加新的元素类比较困难，每增加一个元素类都需要修改访问者类（也包括访问者类的子类或者实现类），修改起来相当麻烦。也就是说，在元素类数量不确定的情况下，应该慎用访问者模式。</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-20"><blockquote>
<p>参考博客<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_31984879/article/details/85199258" >设计模式之状态模式(State)<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="状态模式"><a href="#状态模式" class="headerlink" title="状态模式"></a>状态模式</h1><h2 id="类型：行为型"><a href="#类型：行为型" class="headerlink" title="类型：行为型"></a>类型：行为型</h2><p>一个拥有状态的context对象，在不同的状态下，其行为会发生改变。</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>环境角色(Context)：客户程序需要的接口，并且维护一个具体状态的实例，这个实例决定当前状态。</li>
<li>状态角色(State)：定义一个接口以封装与使用环境角色的一个特定状态的相关行为。</li>
<li>具体状态角色(ConcreteState)：实现状态角色定义的接口，结构十分简单与策略模式相似。</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_19,color_FFFFFF,t_70,g_se,x_16-1687149659574-113.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/29a64bf1f46a4bd08b01b95706bc1686.png"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><h4 id="基类"><a href="#基类" class="headerlink" title="基类"></a>基类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 状态模式.state;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="子类"><a href="#子类" class="headerlink" title="子类"></a>子类</h4><p>都类似</p>
<div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package 状态模式.state;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Sended</span>  <span class="title">implements</span> <span class="title">State</span> &#123;</span></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">handle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;已发货！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-------------------------------------------</span><br><span class="line">package 状态模式.state;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Recieved</span>  <span class="title">implements</span> <span class="title">State</span> &#123;</span></span><br><span class="line">    @Override</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">handle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;已确认收获！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="context（环境）"><a href="#context（环境）" class="headerlink" title="context（环境）"></a>context（环境）</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package 状态模式.context;</span><br><span class="line"></span><br><span class="line">import 状态模式.state.State;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Context</span> &#123;</span></span><br><span class="line">    private State state;</span><br><span class="line"></span><br><span class="line">    public <span class="title function_">Context</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    public <span class="title function_">Context</span><span class="params">(State state)</span> &#123;</span><br><span class="line">        this.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="type">void</span> <span class="title function_">setState</span><span class="params">(State state)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;订单信息已更新！&quot;</span>);</span><br><span class="line">        this.state = state;</span><br><span class="line">        this.state.handle();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="client"><a href="#client" class="headerlink" title="client"></a>client</h3><div class="code-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package 状态模式.client;</span><br><span class="line"></span><br><span class="line">import 状态模式.context.Context;</span><br><span class="line">import 状态模式.state.*;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Client</span> &#123;</span></span><br><span class="line">    public <span class="type">static</span>  <span class="type">void</span>  <span class="title function_">main</span><span class="params">(String [] args)</span> &#123;</span><br><span class="line">        Context context = new Context();</span><br><span class="line">        context.setState(new Booked());</span><br><span class="line">        context.setState(new Payed());</span><br><span class="line">        context.setState(new Sended());</span><br><span class="line">        context.setState(new InWay());</span><br><span class="line">        context.setState(new Recieved());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>应用状态模式使程序扩展起来变的简单</li>
<li>避免了多重条件语句的应用</li>
<li>程序结构会变得比较清晰</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>应用状态模式使类变的过多，而且简单的关系会变的理解困难</li>
<li>没有很好的遵守开闭原则，引入新的新的状态会导致原有状态的修改</li>
<li>没有很好的处理耦合关系，从例子中可以看出，应用状态模式不仅会使状态类和环境类进行关联而且状态类之间也有关系存在</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-21"><blockquote>
<p> 参考博客<br> <a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/ShuSheng0007/article/details/116424138" >秒懂设计模式之享元模式（Flyweight Pattern）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br> <a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/justloveyou_/article/details/55045638" >深入理解享元模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="享元模式"><a href="#享元模式" class="headerlink" title="享元模式"></a>享元模式</h1><h2 id="类型：结构型"><a href="#类型：结构型" class="headerlink" title="类型：结构型"></a>类型：结构型</h2><p>享元模式通过共享技术实现相同或相似对象的重用，例子可参考常量池</p>
<p>在享元模式中可以共享的相同内容称为 <strong>内部状态</strong>(Intrinsic State)，而那些需要外部环境来设置的不能共享的内容称为 <strong>外部状态</strong>(Extrinsic State)，其中外部状态和内部状态是相互独立的，外部状态的变化<strong>不会引起</strong>内部状态的变化。</p>
<p>由于区分了内部状态和外部状态，因此可以通过设置<strong>不同的外部状态</strong>使得<strong>相同的对象</strong>可以具有一些<strong>不同的特征</strong>，而<strong>相同的内部状态是可以共享</strong>的。也就是说，享元模式的本质是分离与共享 ： 分离变与不变，并且共享不变。把一个对象的状态分成内部状态和外部状态，内部状态即是不变的，外部状态是变化的；然后通过<strong>共享不变的部分，达到减少对象数量并节约内存</strong>的目的。</p>
<p>在享元模式中通常会出现<strong>工厂模式</strong>，需要创建一个<strong>享元工厂</strong>来负责维护一个享元池(Flyweight Pool)（用于存储具有相同内部状态的享元对象）。<br>在享元模式中，共享的是享元对象的内部状态，外部状态需要通过环境来设置。在实际使用中，能够共享的内部状态是有限的，因此<strong>享元对象一般都设计为较小的对象</strong>，它所包含的内部状态较少，这种对象也称为<strong>细粒度对象</strong>。<br><strong>享元模式的目的就是使用共享技术来实现大量细粒度对象的复用。</strong></p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><ul>
<li>Flyweight： 享元接口，通过这个接口传入外部状态并作用于外部状态；</li>
<li>ConcreteFlyweight： 具体的享元实现对象，必须是<strong>可共享</strong>的，需要封装享元对象的内部状态；</li>
<li>UnsharedConcreteFlyweight： <strong>非共享</strong>的享元实现对象，并不是所有的享元对象都可以共享，非共享的享元对象<strong>通常是享元对象的组合对象</strong>；</li>
<li>FlyweightFactory： 享元工厂，主要用来创建并管理共享的享元对象，并对外提供访问共享享元的接口；</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_19,color_FFFFFF,t_70,g_se,x_16-1687149665803-118.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h2><h3 id="享元类"><a href="#享元类" class="headerlink" title="享元类"></a>享元类</h3><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 享元模式.flyWeight;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AbstractColor</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doOperation</span><span class="params">(<span class="type">int</span> r,<span class="type">int</span> c)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="实现类"><a href="#实现类" class="headerlink" title="实现类"></a>实现类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 享元模式.flyWeight;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Color</span> <span class="keyword">implements</span> <span class="title class_">AbstractColor</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String colorName;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doOperation</span><span class="params">(<span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;将颜色：&quot;</span>+<span class="built_in">this</span>.colorName+<span class="string">&quot;画在(&quot;</span>+r+<span class="string">&quot;,&quot;</span>+c+<span class="string">&quot;)上&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;该颜色的hashcode为&quot;</span>+<span class="built_in">this</span>.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Color</span><span class="params">(String colorName)</span>&#123;<span class="built_in">this</span>.colorName=colorName;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="生产享元的工厂"><a href="#生产享元的工厂" class="headerlink" title="生产享元的工厂"></a>生产享元的工厂</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 享元模式.flyWeightFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 享元模式.flyWeight.AbstractColor;</span><br><span class="line"><span class="keyword">import</span> 享元模式.flyWeight.Color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ColorPool</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> HashMap&lt;String, AbstractColor&gt; hashMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> AbstractColor <span class="title function_">get</span><span class="params">(String colorName)</span>&#123;</span><br><span class="line">        <span class="type">AbstractColor</span> <span class="variable">color</span> <span class="operator">=</span> hashMap.get(colorName);</span><br><span class="line">        <span class="keyword">if</span>(color==<span class="literal">null</span>)&#123;</span><br><span class="line">            color = <span class="keyword">new</span> <span class="title class_">Color</span>(colorName);</span><br><span class="line">            hashMap.put(colorName,color);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="客户端测试"><a href="#客户端测试" class="headerlink" title="客户端测试"></a>客户端测试</h3><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 享元模式.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 享元模式.flyWeightFactory.ColorPool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       ColorPool colorPool= <span class="keyword">new</span> <span class="title class_">ColorPool</span>();</span><br><span class="line">       colorPool.get(<span class="string">&quot;绿色&quot;</span>).doOperation(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">       colorPool.get(<span class="string">&quot;绿色&quot;</span>).doOperation(<span class="number">7</span>,<span class="number">10</span>);</span><br><span class="line">       colorPool.get(<span class="string">&quot;红色&quot;</span>).doOperation(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">       colorPool.get(<span class="string">&quot;红色&quot;</span>).doOperation(<span class="number">10</span>,<span class="number">90</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p>可以发现虽然获得了四个享元，但实际上只有两种hashcode，即只有两个不同对象<br>并且对于同一种对象，进行了不同的操作</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">将颜色：绿色画在(<span class="number">1</span>,<span class="number">2</span>)上</span><br><span class="line">该颜色的hashcode为<span class="number">356573597</span></span><br><span class="line">将颜色：绿色画在(<span class="number">7</span>,<span class="number">10</span>)上</span><br><span class="line">该颜色的hashcode为<span class="number">356573597</span></span><br><span class="line">将颜色：红色画在(<span class="number">3</span>,<span class="number">4</span>)上</span><br><span class="line">该颜色的hashcode为<span class="number">1735600054</span></span><br><span class="line">将颜色：红色画在(<span class="number">10</span>,<span class="number">90</span>)上</span><br><span class="line">该颜色的hashcode为<span class="number">1735600054</span></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>它可以极大减少内存中对象的数量，使得相同对象或相似对象在内存中只保存一份；</li>
<li>享元模式的外部状态相对独立，而且不会影响其内部状态，从而使得享元对象可以在不同的环境中被共享。</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>享元模式使得系统更加复杂，需要分离出内部状态和外部状态，这使得程序的逻辑复杂化；</li>
<li>为了使对象可以共享，享元模式需要将享元对象的状态外部化，而<strong>读取外部状态使得运行时间变长</strong>。</li>
</ul></div><div class="tab-pane" id="页面内不重复的id-22"><blockquote>
<p>参考博客<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/xiaofeng10330111/article/details/105633821" >代理模式的使用总结<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/A1342772/article/details/91349142" >23 种设计模式详解（全23种）<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
</blockquote>
<h1 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h1><h2 id="类型：结构型"><a href="#类型：结构型" class="headerlink" title="类型：结构型"></a>类型：结构型</h2><p>代理模式给某一个对象提供一个代理对象，并由代理对象控制对原对象的引用。通俗的来讲代理模式就是我们生活中常见的中介。</p>
<h2 id="为什么要用代理模式？"><a href="#为什么要用代理模式？" class="headerlink" title="为什么要用代理模式？"></a>为什么要用代理模式？</h2><ul>
<li><p>中介隔离作用：在某些情况下，一个客户类不<strong>想或者不能直接引用</strong>一个委托对象，而代理类对象可以在客户类和委托对象之间起到<strong>中介</strong>的作用，其特征是<strong>代理类和委托类实现相同的接口</strong>。</p>
</li>
<li><p>开闭原则，增加功能：代理类除了是客户类和委托类的中介之外，我们还可以通过给代理类增加额外的功能来<strong>扩展委托类的功能</strong>，这样做我们只需要修改代理类而不需要再修改委托类，符合代码设计的开闭原则。代理类主要负责为委托类预处理消息、过滤消息、把消息转发给委托类，以及事后对返回结果的处理等。通过类本身<strong>并不真正实现服务，而是通过调用委托类的相关方法</strong>，来提供特定的服务。真正的业务功能还是由委托类来实现，但是可以在业务功能执行的前后<strong>加入一些公共的服务</strong>。例如我们想给项目加入缓存、日志这些功能，我们就可以使用代理类来完成，而没必要打开已经封装好的委托类。</p>
</li>
</ul>
<h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pyAIOS4iiDlt50=,size_20,color_FFFFFF,t_70,g_se,x_16-1687149671685-121.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="代理模式分为三类：1-静态代理-2-动态代理-3-CGLIB代理"><a href="#代理模式分为三类：1-静态代理-2-动态代理-3-CGLIB代理" class="headerlink" title="代理模式分为三类：1. 静态代理 2. 动态代理 3. CGLIB代理"></a>代理模式分为三类：1. 静态代理 2. 动态代理 3. CGLIB代理</h2><h2 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h2><p>由程序员创建或特定工具自动生成源代码，也就是在编译时就已经将接口、被代理类、代理类等确定下来。在程序运行之前，代理类的.class文件就已经生成。<br>##</p>
<h3 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/cf697c7779a64e51847d04a0d8970873.png"
                      alt="在这里插入图片描述"
                ></p>
<h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 代理模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">buyHouse</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="委托类（客户）"><a href="#委托类（客户）" class="headerlink" title="委托类（客户）"></a>委托类（客户）</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 代理模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BuyHousePerson</span> <span class="keyword">implements</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyHouse</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我要买一间.....的屋子，我的预算是....元&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="代理类（中介）"><a href="#代理类（中介）" class="headerlink" title="代理类（中介）"></a>代理类（中介）</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 代理模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BuyHouseProxy</span> <span class="keyword">implements</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BuyHousePerson principal;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BuyHouseProxy</span><span class="params">(BuyHousePerson principal)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我太忙了，于是找了这家中介&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.principal=principal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyHouse</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我是中介，我来替用户挑房子&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.principal.buyHouse();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="客户端测试"><a href="#客户端测试" class="headerlink" title="客户端测试"></a>客户端测试</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 代理模式;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BuyHouseProxy</span> <span class="variable">buyHouseProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyHouseProxy</span>(<span class="keyword">new</span> <span class="title class_">BuyHousePerson</span>());</span><br><span class="line">        buyHouseProxy.buyHouse();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">我太忙了，于是找了这家中介</span><br><span class="line">我是中介，我来替用户挑房子</span><br><span class="line">我要买一间.....的屋子，我的预算是....元</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h3 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h3><p>可以做到在符合开闭原则的情况下对目标对象进行功能扩展。</p>
<h3 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h3><p>代理对象与目标对象要实现相同的接口，我们得<strong>为每一个服务都得创建代理类</strong>，工作量太大，不易管理。同时<strong>接口一旦发生改变，代理类也得相应修改</strong>。 </p>
<h2 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h2><p>代理类在程序运行时创建的代理方式被成为动态代理。</p>
<p>动态代理有以下特点:</p>
<ol>
<li>代理对象,不需要实现接口</li>
<li>代理对象的生成,是利用JDK的API,动态的在内存中构建代理对象(需要我们指定创建代理对象&#x2F;目标对象实现的接口的类型)</li>
</ol>
<p>代理类不用再实现接口了。但是，要求被代理对象必须有接口。</p>
<h3 id="动态代理实现："><a href="#动态代理实现：" class="headerlink" title="动态代理实现："></a>动态代理实现：</h3><p>Java.lang.reflect.Proxy类可以<strong>直接生成一个代理对象</strong></p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成一个代理对象</span></span><br><span class="line">Proxy.newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)</span><br></pre></td></tr></table></figure></div>

<ul>
<li><p>参数1:ClassLoader loader 代理对象的类加载器 一般使用被代理对象的类加载器</p>
</li>
<li><p>参数2:Class&lt;?&gt;[] interfaces 代理对象的要实现的接口 一般使用的被代理对象实现的接口</p>
</li>
<li><p>参数3:InvocationHandler h (接口)执行处理类</p>
</li>
</ul>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用代理类的任何方法，此方法都会执行</span></span><br><span class="line">InvocationHandler中的  invoke(Object proxy, Method method, Object[] args)</span><br></pre></td></tr></table></figure></div>

<ul>
<li><p>参数3.1:代理对象(慎用)</p>
</li>
<li><p>参数3.2:当前执行的方法</p>
</li>
<li><p>参数3.3:当前执行的方法运行时传递过来的参数</p>
</li>
</ul>
<h4 id="第一步：编写动态处理器"><a href="#第一步：编写动态处理器" class="headerlink" title="第一步：编写动态处理器"></a>第一步：编写动态处理器</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicProxyHandler</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">       <span class="keyword">private</span> Object object;</span><br><span class="line">       <span class="keyword">public</span> <span class="title function_">DynamicProxyHandler</span><span class="params">(<span class="keyword">final</span> Object object)</span> &#123;</span><br><span class="line">              <span class="built_in">this</span>.object = object;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">              System.out.println(<span class="string">&quot;买房前准备&quot;</span>);</span><br><span class="line">              <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(object, args);</span><br><span class="line">              System.out.println(<span class="string">&quot;买房后装修&quot;</span>);</span><br><span class="line">              <span class="keyword">return</span> result;</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="第二步：编写测试类"><a href="#第二步：编写测试类" class="headerlink" title="第二步：编写测试类"></a>第二步：编写测试类</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicProxyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BuyHouse</span> <span class="variable">buyHouse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyHouseImpl</span>();</span><br><span class="line">        <span class="type">BuyHouse</span> <span class="variable">proxyBuyHouse</span> <span class="operator">=</span> (BuyHouse) Proxy.newProxyInstance(BuyHouse.class.getClassLoader(), <span class="keyword">new</span></span><br><span class="line">                <span class="title class_">Class</span>[]&#123;BuyHouse.class&#125;, <span class="keyword">new</span> <span class="title class_">DynamicProxyHandler</span>(buyHouse));</span><br><span class="line">        proxyBuyHouse.buyHosue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="动态代理总结："><a href="#动态代理总结：" class="headerlink" title="动态代理总结："></a>动态代理总结：</h3><p>虽然相对于静态代理，动态代理大大<strong>减少了我们的开发任务</strong>，同时<strong>减少了对业务接口的依赖</strong>，<strong>降低了耦合度</strong>。但是还是有一点点小小的遗憾之处，那就是它始终<strong>无法摆脱仅支持interface代理</strong>的桎梏（我们要使用被代理的对象的接口），因为它的设计注定了这个遗憾。</p>
<h2 id="CGLIB代理"><a href="#CGLIB代理" class="headerlink" title="CGLIB代理"></a>CGLIB代理</h2><p>待续</p></div><div class="tab-pane" id="页面内不重复的id-23"><h1 id="创建型：对于对象的实例化进行解耦"><a href="#创建型：对于对象的实例化进行解耦" class="headerlink" title="创建型：对于对象的实例化进行解耦"></a>创建型：对于对象的实例化进行解耦</h1><h2 id="单例"><a href="#单例" class="headerlink" title="单例"></a>单例</h2><p>有且只能有一个实例，且全局可访问。注意懒汉(提前实例化但是浪费内存)和饿汉(延后实例化但是要处理线程安全问题)的区别。</p>
<h2 id="三个工厂-只有后两个属于GOF23种设计模式"><a href="#三个工厂-只有后两个属于GOF23种设计模式" class="headerlink" title="三个工厂(只有后两个属于GOF23种设计模式)"></a>三个工厂(只有后两个属于GOF23种设计模式)</h2><h3 id="简单工厂"><a href="#简单工厂" class="headerlink" title="简单工厂"></a>简单工厂</h3><ul>
<li>实现：<br>定义一个产品接口和诸多实现了该接口的具体产品类<br>定义一个工厂类，内含一个生产产品的方法，通过传入的参数来判断实例化哪种产品并返回。<blockquote>
<p>即只有一个工厂，内置多个生产方法(或者多个<code>if else</code>)</p>
</blockquote>
</li>
<li>使用案例：<br>想获得加法操作对象，就向工厂类的生产产品方法传入字符<code>+</code>，返回<code>new AddOperation()</code></li>
</ul>
<h3 id="工厂方法"><a href="#工厂方法" class="headerlink" title="工厂方法"></a>工厂方法</h3><ul>
<li>实现<br>  也定义一个产品接口和诸多实现了该接口的具体产品类<br>  注意这里，定义的是工厂接口和诸多实现了该接口的具体工厂类，每个具体工厂类都有对应的生产产品的方法<blockquote>
<p>即有多个工厂，每个工厂都生产对应的产品</p>
</blockquote>
</li>
<li>使用案例<br>想获得加法操作对象，就调用<code>AddFactory</code>的<code>getOperation</code>方法，返回<code>new AddOperation()</code></li>
</ul>
<h3 id="抽象工厂"><a href="#抽象工厂" class="headerlink" title="抽象工厂"></a>抽象工厂</h3><ul>
<li>实现<br>相较于工厂方法，为了减少工厂的数量，让每个工厂都可以生产多种产品。<br>如小米工厂生产小米手机和小米电脑、华为工厂生产华为手机和华为电脑。</li>
<li>使用案例<br>新建小米工厂，调用<code>mi.getPhone</code>获得小米手机,调用<code>mi.getComputer</code>获得小米电脑。华为同理。</li>
</ul>
<h2 id="建造者"><a href="#建造者" class="headerlink" title="建造者"></a>建造者</h2><ul>
<li>实现<br>有零件类、工人类、机器类<br>其实就是工人类封装了组装零件的细节，直接返回了机器对象</li>
<li>对比<br>  - 与工厂模式：工厂模式注重于对新建对象方式的解耦，其新建对象是一步完成的。而建造者模式是需要组装多个部件才能新建完成一个对象的，注重于这个组装的过程及组装顺序。</li>
</ul>
<h2 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h2><ul>
<li>实现<br>其实就是使用了对象的拷贝取代了new，因为二者在效率上是有差异的。</li>
</ul>
<h1 id="结构型："><a href="#结构型：" class="headerlink" title="结构型："></a>结构型：</h1><h2 id="适配器"><a href="#适配器" class="headerlink" title="适配器"></a>适配器</h2><ul>
<li>实现<br>参考变压器、编译器等。变压器类继承220V电压类、实现变压器接口。5V变压器重写变压方法为转换为5V，10V变压器重写为转换为10V。</li>
</ul>
<h2 id="桥接"><a href="#桥接" class="headerlink" title="桥接"></a>桥接</h2><p>感觉图片会好理解一点<br>原本的继承关系，不同维度的属性通过层层继承实现<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/e3494bfacaa945808ef7b1750a9052b4.png"
                      alt="在这里插入图片描述"
                ><br>独立各维度的属性后如下<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./../article_images/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/1752734d0d894d8e973049029cb727f6.png"
                      alt="在这里插入图片描述"
                ></p>
<h2 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h2><ul>
<li>实现<br>定义叶节点类和非叶节点类，他们都继承节点抽象类，将数据以树形方式构建起来</li>
</ul>
<h2 id="装饰者"><a href="#装饰者" class="headerlink" title="装饰者"></a>装饰者</h2><ul>
<li>实现<br>其实就是把被装饰的东西注入到有装饰方法的对象里，层层包装</li>
<li>使用案例  <div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">奶茶 milkTea = new 奶茶()</span><br><span class="line">糖添加者 sugar = new 糖添加者(milkTea)</span><br><span class="line">芋圆添加者 yuYuan = new 芋圆添加者(sugar)</span><br><span class="line">布丁添加者 buDing = new 布丁添加者(yuYuan)</span><br><span class="line">sout(buDing)//加了糖、芋圆、布丁的奶茶</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="外观"><a href="#外观" class="headerlink" title="外观"></a>外观</h2><ul>
<li>实现<br>封装内部复杂细节(关乎到多个类、多个系统的”复杂”，而不只是过程的复杂)，对外提供简单接口</li>
</ul>
<h2 id="享元"><a href="#享元" class="headerlink" title="享元"></a>享元</h2><ul>
<li>实现<br>享元即共享的元素，参考Java的常量池，将常用的对象用池子保存并管理，多次调用只会获得同一个对象。</li>
</ul>
<h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><ul>
<li>实现<br>联想买房的场景，将买房者对象注入中介对象的属性中，让中介提出买房者的要求，接收卖房者的反馈，起到保护买房者的作用。</li>
</ul>
<h1 id="行为型"><a href="#行为型" class="headerlink" title="行为型"></a>行为型</h1><h2 id="访问者TODO"><a href="#访问者TODO" class="headerlink" title="访问者TODO"></a>访问者TODO</h2><p>没想明白，先放篇感觉可以的、别人的博客 <a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43914736/article/details/108859962?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166108863216782184647196%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=166108863216782184647196&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~pc_rank_34-20-108859962-null-null.142%5Ev42%5Epc_rank_34_queryrelevant25,185%5Ev2%5Econtrol&utm_term=%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187" >设计模式之访问者模式<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><ul>
<li>实现<br>思想上就是面向对象的继承，使用抽象类和子类继承实现就行</li>
</ul>
<h2 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h2><ul>
<li>实现<br>其实就是将switch-case的各个case用多种策略类表示，这些策略类继承于一个策略基类，以方便修改，即替换对象而不是更改方法细节。</li>
</ul>
<h2 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h2><ul>
<li>实现<br>如果类有状态属性的话，就可以让多种状态以多种状态类表示，对象变换状态就是注入新状态。</li>
</ul>
<h2 id="观察者"><a href="#观察者" class="headerlink" title="观察者"></a>观察者</h2><ul>
<li>实现<br>以师生为例，老师为被观察者，学生为观察者。老师有一个存储学生的集合，老师和学生都有一个进行操作的方法。老师进行操作时，还会调用集合内学生的操作方法。这样子看起来就是”老师一动，学生就动了”。</li>
</ul>
<h2 id="备忘录"><a href="#备忘录" class="headerlink" title="备忘录"></a>备忘录</h2><ul>
<li>实现<br>在正常业务的基础上，定义记录类和记录者类，业务对象新增读取记录方法。在客户端，对于业务对象的每次操作，记录者类根据当前状态创建记录并进行存储和管理，业务对象想读取历史记录时，调用自己的读取记录方法，传入记录者类返回的记录对象即可。</li>
</ul>
<h2 id="中介者"><a href="#中介者" class="headerlink" title="中介者"></a>中介者</h2><ul>
<li>实现<br>参考消息队列。</li>
</ul>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><ul>
<li>实现<br>参考Java、C++的迭代器，即各集合提供统一接口、封装复杂细节</li>
</ul>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><ul>
<li>实现<br>有命令发送者、命令接收者、命令三个类<br>命令对象保存了接收者对象，并有一个成员方法(例如excute)是调用了接收者处理该命令的方法<br>发送者只负责调用excute<br>这样子就保证了发送者和接收者的解耦，因为发送者无需知道接收者是谁，接收者是在新建命令对象时存储在命令中的，并且是由命令主动去让接收者使用自己的</li>
</ul>
<h2 id="责任链"><a href="#责任链" class="headerlink" title="责任链"></a>责任链</h2><ul>
<li>实现<br>联想到过滤器这东西，一层一层更密的筛子对混合物进行过滤。在代码实现上，每层过滤器都是一个类，且他们都保存了下一层过滤器的引用，以方便在自己这里过滤不了时将混合物送往下一层过滤器进行过滤。而混合物只需调用一次过滤操作就行，过滤的过程由过滤器们联动实现。</li>
</ul>
<h2 id="解释器-用得少、难理解、遂不概括"><a href="#解释器-用得少、难理解、遂不概括" class="headerlink" title="解释器(用得少、难理解、遂不概括)"></a><del>解释器(用得少、难理解、遂不概括)</del></h2><h1 id="收集了一下设计模式常见优缺点-自行对号入座吧"><a href="#收集了一下设计模式常见优缺点-自行对号入座吧" class="headerlink" title="收集了一下设计模式常见优缺点(自行对号入座吧)"></a>收集了一下设计模式常见优缺点(自行对号入座吧)</h1><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>提高可复用性</li>
<li>提高可维护性</li>
<li>降低耦合度</li>
<li>降低代码复杂性</li>
<li>提高可读性</li>
<li>提高可扩展性</li>
<li>增强健壮性</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>类的数量增多，增加复杂性</li>
<li>系统更抽象，理解难度增加</li>
<li>修改成本增大</li>
<li>扩展困难</li>
<li>容易引入风险</li>
<li>请求处理速度变慢</li>
<li>客户端必须知晓细节并自行决策</li>
<li>增加了资源占用，如内存等</li>
</ul></div></div></div>

		</div>

		
		<div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
			<div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> 设计模式学习</li>
        <li><strong>作者:</strong> urlyy</li>
        <li><strong>创建于
                :</strong> 2021-09-07 12:13:29</li>
        
            <li>
                <strong>更新于
                    :</strong> 2025-12-21 18:39:57
            </li>
        
        <li>
            <strong>链接:</strong> https://urlyy.github.io/2021/09/07/设计模式学习/
        </li>
        <li>
            <strong>
                版权声明:
            </strong>
            

            
                本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。
            
        </li>
    </ul>
</div>

		</div>
		

		

		

		
		<div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
			
			<div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="prev" rel="prev" href="/2021/10/11/hexo%E6%A0%87%E9%A2%98%E7%9A%84%E5%86%92%E5%8F%B7%E9%97%AE%E9%A2%98/">
					<span class="left arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-left"></i>
					</span>
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item truncate max-w-48">解决Hexo标题的冒号问题</span>
						<span class="post-nav-item">上一篇</span>
					</span>
				</a>
			</div>
			
			
			<div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="next" rel="next" href="/2021/09/06/hello-world/">
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item truncate max-w-48">Hello World</span>
						<span class="post-nav-item">下一篇</span>
					</span>
					<span class="right arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-right"></i>
					</span>
				</a>
			</div>
			
		</div>
		


		
		<div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
			<div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        评论
    </div>
    

        
            
    <div id="giscus-container"></div>
    <script data-swup-reload-script defer>
        async function loadGiscus() {
            const giscusConfig = {
                'src': 'https://giscus.app/client.js',
                'data-repo': 'urlyy/urlyy_blog_comments',
                'data-repo-id': 'R_kgDONo8nwQ',
                'data-category': 'Announcements',
                'data-category-id': 'DIC_kwDONo8nwc4Cl7pw',
                'data-mapping': 'title',
                'data-strict': '0',
                'data-reactions-enabled': '1',
                'data-emit-metadata': '1',
                'data-theme': 'preferred_color_scheme',
                'data-lang': 'zh-CN',
                'data-input-position': 'top',
                'data-loading': 'lazy',
                'crossorigin': 'anonymous',
                'async': true
            }
            const giscusScript = document.createElement('script');
            for (const key in giscusConfig) {
                giscusScript.setAttribute(key, giscusConfig[key]);
            }
            document.getElementById('giscus-container').appendChild(giscusScript);
        }
        if ('true') {
            let loadGiscusTimeout = setTimeout(() => {
                loadGiscus();
                clearTimeout(loadGiscusTimeout);
            }, 1000);
        } else {
            document.addEventListener('DOMContentLoaded', loadGiscus);
        }
    </script>


        
        
    
</div>

		</div>
		
	</div>

	
	<div class="toc-content-container">
		<div class="post-toc-wrap">
	<div class="post-toc">
		<div class="toc-title">目录</div>
		<div class="page-title">设计模式学习</div>
		<ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%EF%BC%9A%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%8D%E5%86%8D%E4%BD%BF%E7%94%A8-new-Object-%E5%BD%A2%E5%BC%8F%EF%BC%8C%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AA%E5%B7%A5%E5%8E%82%E8%8E%B7%E5%BE%97%E5%AF%B9%E8%B1%A1"><span class="nav-text">工厂：实例化对象的时候不再使用 new Object()形式，通过一个工厂获得对象</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="nav-text">类型：创建型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">简单工厂模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3"><span class="nav-text">操作接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E7%B1%BB"><span class="nav-text">具体操作类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E7%B1%BB"><span class="nav-text">工厂类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">优点：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">工厂模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E7%B1%BB"><span class="nav-text">操作接口和具体操作类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%8E%A5%E5%8F%A3"><span class="nav-text">工厂接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E7%9A%84%E5%B7%A5%E5%8E%82%E7%B1%BB"><span class="nav-text">具体的工厂类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-1"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9-1"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">抽象工厂模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%81%E7%89%8C%E6%8E%A5%E5%8F%A3"><span class="nav-text">品牌接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%B1%B3%E5%93%81%E7%89%8C"><span class="nav-text">小米品牌</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%8E%E4%B8%BA%E5%93%81%E7%89%8C"><span class="nav-text">华为品牌</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%B5%E8%84%91%E4%BA%A7%E5%93%81%E6%8E%A5%E5%8F%A3"><span class="nav-text">电脑产品接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%B1%B3%E7%94%B5%E8%84%91"><span class="nav-text">小米电脑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8E%E4%B8%BA%E7%94%B5%E8%84%91"><span class="nav-text">华为电脑</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%8B%E6%9C%BA%E6%8E%A5%E5%8F%A3"><span class="nav-text">手机接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8E%E4%B8%BA%E6%89%8B%E6%9C%BA"><span class="nav-text">华为手机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%B1%B3%E6%89%8B%E6%9C%BA"><span class="nav-text">小米手机</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-2"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-1"><span class="nav-text">优点：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="nav-text">缺点：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E7%A7%8D%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8%E9%80%89%E6%8B%A9"><span class="nav-text">三种工厂模式的使用选择</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">建造者模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="nav-text">类型：创建型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E8%A6%81%E8%A2%AB%E5%BB%BA%E9%80%A0%E7%9A%84bean"><span class="nav-text">需要被建造的bean</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E9%80%A0%E8%80%85%E5%9F%BA%E7%B1%BB"><span class="nav-text">建造者基类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E7%9A%84%E5%BB%BA%E9%80%A0%E8%80%85"><span class="nav-text">具体的建造者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B4%9F%E8%B4%A3%E7%AE%A1%E4%BA%8B%E7%9A%84director"><span class="nav-text">负责管事的director</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">与工厂模式的区别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">建造者模式的使用场景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">原型模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="nav-text">类型：创建型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E5%A4%8D%E5%88%B6%E7%8E%B0%E6%9C%89%E5%AE%9E%E4%BE%8B%E6%9D%A5%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E5%AE%9E%E4%BE%8B%EF%BC%8C%E6%97%A0%E9%9C%80%E7%9F%A5%E9%81%93%E7%9B%B8%E5%BA%94%E7%B1%BB%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82"><span class="nav-text">通过复制现有实例来创建新的实例，无需知道相应类的信息。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%9AClone"><span class="nav-text">关键字：Clone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-text">深拷贝和浅拷贝</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML%E5%9B%BE"><span class="nav-text">UML图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E7%B1%BB"><span class="nav-text">原型类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E7%B1%BB"><span class="nav-text">具体类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%87%BA"><span class="nav-text">输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">原型模式的注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%A4%8D%E5%88%B6%E5%AF%B9%E8%B1%A1%E4%B8%8D%E4%BC%9A%E8%B0%83%E7%94%A8%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="nav-text">1. 使用原型模式复制对象不会调用类的构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D%E3%80%82"><span class="nav-text">2. 深拷贝与浅拷贝。</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F"><span class="nav-text">责任链模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81%E8%80%85%E4%B8%8E%E5%A4%9A%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%E8%80%85%E8%80%A6%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E5%B0%86%E6%89%80%E6%9C%89%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A4%84%E7%90%86%E8%80%85%E9%80%9A%E8%BF%87%E5%89%8D%E4%B8%80%E5%AF%B9%E8%B1%A1%E8%AE%B0%E4%BD%8F%E5%85%B6%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%E8%80%8C%E8%BF%9E%E6%88%90%E4%B8%80%E6%9D%A1%E9%93%BE%EF%BC%9B%E5%BD%93%E6%9C%89%E8%AF%B7%E6%B1%82%E5%8F%91%E7%94%9F%E6%97%B6%EF%BC%8C%E5%8F%AF%E5%B0%86%E8%AF%B7%E6%B1%82%E6%B2%BF%E7%9D%80%E8%BF%99%E6%9D%A1%E9%93%BE%E4%BC%A0%E9%80%92%EF%BC%8C%E7%9B%B4%E5%88%B0%E6%9C%89%E5%AF%B9%E8%B1%A1%E5%A4%84%E7%90%86%E5%AE%83%E4%B8%BA%E6%AD%A2%E3%80%82"><span class="nav-text">为了避免请求发送者与多个请求处理者耦合在一起，将所有请求的处理者通过前一对象记住其下一个对象的引用而连成一条链；当有请求发生时，可将请求沿着这条链传递，直到有对象处理它为止。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2%EF%BC%9A"><span class="nav-text">角色：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">模式的应用场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E8%80%85%E5%9F%BA%E7%B1%BB"><span class="nav-text">处理者基类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E4%BB%8E%E5%B0%8F%E5%88%B0%E5%A4%A7%E7%9A%84%E5%A4%84%E7%90%86%E8%80%85"><span class="nav-text">权限从小到大的处理者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%89%A9%E5%B1%95"><span class="nav-text">模式的扩展</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">适配器模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="nav-text">类型：结构型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%86%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AE%A2%E6%88%B7%E5%B8%8C%E6%9C%9B%E7%9A%84%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E4%BD%BF%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%E7%9A%84%E9%82%A3%E4%BA%9B%E7%B1%BB%E5%8F%AF%E4%BB%A5%E4%B8%80%E8%B5%B7%E5%B7%A5%E4%BD%9C"><span class="nav-text">将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">适用场景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E4%B8%AD%E7%9A%84%E8%A7%92%E8%89%B2"><span class="nav-text">模式中的角色</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%EF%BC%88Target%EF%BC%89%EF%BC%9A"><span class="nav-text">目标接口（Target）：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9C%80%E8%A6%81%E9%80%82%E9%85%8D%E7%9A%84%E7%B1%BB%EF%BC%88Adaptee%EF%BC%89%EF%BC%9A"><span class="nav-text">需要适配的类（Adaptee）：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%EF%BC%88Adapter%EF%BC%89%EF%BC%9A"><span class="nav-text">适配器（Adapter）：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="nav-text">两种实现方式：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%B1%BB%E7%9A%84%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%88%E9%87%87%E7%94%A8%E7%BB%A7%E6%89%BF%E5%AE%9E%E7%8E%B0%EF%BC%89"><span class="nav-text">1. 类的适配器模式（采用继承实现）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Adaptee%EF%BC%88%E5%8E%82%E5%95%86%E6%A0%87%E5%87%86%E7%94%B5%E5%8E%8B%EF%BC%89"><span class="nav-text">Adaptee（厂商标准电压）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Target-%E7%94%A8%E6%88%B7%E6%89%8B%E6%9C%BA%E7%9A%84%E7%94%B5%E5%8E%8B%E6%8E%A5%E5%8F%A3"><span class="nav-text">Target(用户手机的电压接口)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adapter-%E7%94%B5%E5%8E%8B%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">Adapter(电压适配器)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Client"><span class="nav-text">Client</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%EF%BC%88%E9%87%87%E7%94%A8%E5%AF%B9%E8%B1%A1%E7%BB%84%E5%90%88%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%EF%BC%89"><span class="nav-text">2. 对象适配器（采用对象组合方式实现）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Adapter-%E7%94%B5%E5%8E%8B%E9%80%82%E9%85%8D%E5%99%A8-1"><span class="nav-text">Adapter(电压适配器)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-text">模式优缺点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E8%BF%98%E5%85%B7%E6%9C%89%E5%A6%82%E4%B8%8B%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">类适配器模式还具有如下优点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BC%BA%E7%82%B9%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="nav-text">类适配器模式的缺点如下：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E8%BF%98%E5%85%B7%E6%9C%89%E5%A6%82%E4%B8%8B%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">对象适配器模式还具有如下优点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BC%BA%E7%82%B9%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="nav-text">对象适配器模式的缺点如下：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95"><span class="nav-text">模式扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-Default-Adapter-Pattern-%E6%88%96%E7%BC%BA%E7%9C%81%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">默认适配器模式(Default Adapter Pattern)或缺省适配器模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8C%E5%90%91%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">双向适配器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">装饰者模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="nav-text">类型：结构型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E7%9A%84%E5%B0%86%E6%96%B0%E5%8A%9F%E8%83%BD%E9%99%84%E5%8A%A0%E5%88%B0%E5%AF%B9%E8%B1%A1%E4%B8%8A%E3%80%82%E5%9C%A8%E5%AF%B9%E8%B1%A1%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%E6%96%B9%E9%9D%A2%EF%BC%8C%E5%AE%83%E6%AF%94%E7%BB%A7%E6%89%BF%E6%9B%B4%E6%9C%89%E5%BC%B9%E6%80%A7%E3%80%82"><span class="nav-text">动态的将新功能附加到对象上。在对象功能扩展方面，它比继承更有弹性。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#component"><span class="nav-text">component</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%B1%BB"><span class="nav-text">基类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AD%90%E7%B1%BB"><span class="nav-text">具体子类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E8%80%85"><span class="nav-text">装饰者</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%B1%BB-1"><span class="nav-text">基类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AD%90%E7%B1%BB-1"><span class="nav-text">具体子类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F"><span class="nav-text">外观模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B-%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">类型:结构型模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#system"><span class="nav-text">system</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#facade"><span class="nav-text">facade</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#client"><span class="nav-text">client</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="nav-text">组合模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B-%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">类型:结构型模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#component-%E5%9F%BA%E7%B1%BB"><span class="nav-text">component(基类)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E5%AD%90%E7%B1%BB"><span class="nav-text">两个子类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#leaf"><span class="nav-text">leaf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#composite"><span class="nav-text">composite</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#client-%E5%B0%B1%E9%9A%8F%E4%BE%BF%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E4%BA%86%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%A0%91%E7%BB%93%E6%9E%84%E5%9C%A8%E8%BE%93%E5%87%BA%E8%AF%AD%E5%8F%A5%E4%B8%8A%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%8C%BA%E9%BA%BB%E7%83%A6"><span class="nav-text">client(就随便调用方法了，这个模式的树结构在输出语句上看起来挺麻烦)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="nav-text">命令模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B-%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型:行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#receiver"><span class="nav-text">receiver</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#command"><span class="nav-text">command</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%88%B6%E7%B1%BB"><span class="nav-text">父类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%90%E7%B1%BB"><span class="nav-text">子类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#invoker"><span class="nav-text">invoker</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#client"><span class="nav-text">client</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95"><span class="nav-text">模板方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB"><span class="nav-text">模板类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AD%90%E7%B1%BB"><span class="nav-text">具体子类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">优点：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="nav-text">缺点：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"><span class="nav-text">策略模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E7%B1%BB"><span class="nav-text">类型：行为类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%80%E7%BB%84%E7%AE%97%E6%B3%95%EF%BC%8C%E5%B0%86%E6%AF%8F%E4%B8%AA%E7%AE%97%E6%B3%95%E9%83%BD%E5%B0%81%E8%A3%85%E8%B5%B7%E6%9D%A5%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BD%BF%E4%BB%96%E4%BB%AC%E4%B9%8B%E9%97%B4%E5%8F%AF%E4%BB%A5%E4%BA%92%E6%8D%A2%E3%80%82"><span class="nav-text">定义一组算法，将每个算法都封装起来，并且使他们之间可以互换。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8E%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%AF%94%E8%BE%83"><span class="nav-text">与模板方法模式的比较</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-text">策略模式优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-text">模板模式优缺点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8E%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">与建造者模式的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#strategy"><span class="nav-text">strategy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E7%B1%BB"><span class="nav-text">上下文类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9-2"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"><span class="nav-text">备忘录模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="nav-text">适用场景：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#memento-%E4%B8%80%E4%B8%AAbean%EF%BC%8C%E5%AD%98%E6%94%BE%E7%8A%B6%E6%80%81"><span class="nav-text">memento(一个bean，存放状态)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#careTaker-%E5%86%85%E7%BD%AE%E4%B8%80%E4%B8%AA%E9%9B%86%E5%90%88%EF%BC%8C%E7%94%A8%E4%BA%8E%E5%AD%98%E6%94%BE%E8%AE%B8%E5%A4%9A%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95-%E5%8D%B3%E5%89%8D%E9%9D%A2%E9%82%A3%E4%B8%AAbean-%EF%BC%8C%E8%B4%9F%E8%B4%A3%E5%AF%B9%E4%BA%8E%E8%AE%B0%E5%BD%95%E7%9A%84%E5%AD%98%E5%8F%96"><span class="nav-text">careTaker(内置一个集合，用于存放许多历史记录(即前面那个bean))，负责对于记录的存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#originator-%E7%94%9F%E6%88%90%E8%AE%B0%E5%BD%95%E7%9A%84%E7%B1%BB%EF%BC%8C%E5%90%8C%E6%97%B6%E5%85%B7%E6%9C%89%E5%9B%9E%E5%88%B0%E6%9F%90%E4%B8%80%E4%B8%AA%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E7%9A%84%E8%83%BD%E5%8A%9B"><span class="nav-text">originator(生成记录的类，同时具有回到某一个历史记录的能力)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%88%E6%88%91%E8%BF%99%E9%87%8C%E6%8A%8A%E4%BB%96%E4%BD%9C%E4%B8%BA%E4%B8%80%E5%9C%BA%E6%B8%B8%E6%88%8F%E7%9A%84%E8%BF%9B%E8%A1%8C%E4%BA%86%EF%BC%89"><span class="nav-text">客户端（我这里把他作为一场游戏的进行了）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">观察者模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#subject"><span class="nav-text">subject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#observer"><span class="nav-text">observer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="nav-text">单例模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%9E%8B"><span class="nav-text">类型：创建型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A5%BF%E6%B1%89%E5%9E%8B"><span class="nav-text">饿汉型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%87%92%E6%B1%89%E5%9E%8B"><span class="nav-text">懒汉型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%88%E6%9C%AC1-0"><span class="nav-text">版本1.0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%88%E6%9C%AC2-0"><span class="nav-text">版本2.0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%88%E6%9C%AC3-0"><span class="nav-text">版本3.0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%88%E6%9E%81%E7%89%88%E6%9C%AC"><span class="nav-text">终极版本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%EF%BC%9A"><span class="nav-text">线程安全：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E5%92%8C%E6%80%A7%E8%83%BD%EF%BC%9A"><span class="nav-text">资源加载和性能：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-text">迭代器模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E7%B1%BB"><span class="nav-text">类型：行为类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81"><span class="nav-text">代码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="nav-text">桥接模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#shape"><span class="nav-text">shape</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#color"><span class="nav-text">color</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">优点：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="nav-text">缺点：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">中介者模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E4%BA%8B%E7%B1%BB"><span class="nav-text">同事类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85"><span class="nav-text">中介者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-text">模式优缺点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">优点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%88%E6%8D%AE%E8%AF%B4%E7%94%A8%E7%9A%84%E9%9D%9E%E5%B8%B8%E5%B0%91%EF%BC%8C%E6%88%91%E5%B0%B1%E6%B2%A1%E6%80%8E%E4%B9%88%E7%A0%94%E7%A9%B6%E4%BA%86%EF%BC%89"><span class="nav-text">解释器模式（据说用的非常少，我就没怎么研究了）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML%E5%9B%BE"><span class="nav-text">UML图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81"><span class="nav-text">代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-text">访问者模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E7%B1%BB"><span class="nav-text">类型：行为类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">适用场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85"><span class="nav-text">访问者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%83%E7%B4%A0"><span class="nav-text">元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1"><span class="nav-text">结构对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"><span class="nav-text">状态模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">类型：行为型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#state"><span class="nav-text">state</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#context%EF%BC%88%E7%8E%AF%E5%A2%83%EF%BC%89"><span class="nav-text">context（环境）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#client"><span class="nav-text">client</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F"><span class="nav-text">享元模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="nav-text">类型：结构型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-text">角色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%AB%E5%85%83%E7%B1%BB"><span class="nav-text">享元类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E4%BA%AB%E5%85%83%E7%9A%84%E5%B7%A5%E5%8E%82"><span class="nav-text">生产享元的工厂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="nav-text">客户端测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C"><span class="nav-text">效果</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="nav-text">代理模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E7%BB%93%E6%9E%84%E5%9E%8B"><span class="nav-text">类型：结构型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%EF%BC%9F"><span class="nav-text">为什么要用代理模式？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UML"><span class="nav-text">UML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%88%86%E4%B8%BA%E4%B8%89%E7%B1%BB%EF%BC%9A1-%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86-2-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86-3-CGLIB%E4%BB%A3%E7%90%86"><span class="nav-text">代理模式分为三类：1. 静态代理 2. 动态代理 3. CGLIB代理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"><span class="nav-text">静态代理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-text">包结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-text">优点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="nav-text">缺点：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="nav-text">动态代理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%EF%BC%9A"><span class="nav-text">动态代理实现：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="nav-text">动态代理总结：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CGLIB%E4%BB%A3%E7%90%86"><span class="nav-text">CGLIB代理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%9E%8B%EF%BC%9A%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%E8%BF%9B%E8%A1%8C%E8%A7%A3%E8%80%A6"><span class="nav-text">创建型：对于对象的实例化进行解耦</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E4%BE%8B"><span class="nav-text">单例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E4%B8%AA%E5%B7%A5%E5%8E%82-%E5%8F%AA%E6%9C%89%E5%90%8E%E4%B8%A4%E4%B8%AA%E5%B1%9E%E4%BA%8EGOF23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-text">三个工厂(只有后两个属于GOF23种设计模式)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82"><span class="nav-text">简单工厂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95"><span class="nav-text">工厂方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82"><span class="nav-text">抽象工厂</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BB%BA%E9%80%A0%E8%80%85"><span class="nav-text">建造者</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B"><span class="nav-text">原型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E5%9E%8B%EF%BC%9A"><span class="nav-text">结构型：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">适配器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%A5%E6%8E%A5"><span class="nav-text">桥接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E5%90%88"><span class="nav-text">组合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E8%80%85"><span class="nav-text">装饰者</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%96%E8%A7%82"><span class="nav-text">外观</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%AB%E5%85%83"><span class="nav-text">享元</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%90%86"><span class="nav-text">代理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%8C%E4%B8%BA%E5%9E%8B"><span class="nav-text">行为型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85TODO"><span class="nav-text">访问者TODO</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF"><span class="nav-text">模板</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AD%96%E7%95%A5"><span class="nav-text">策略</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8A%B6%E6%80%81"><span class="nav-text">状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85"><span class="nav-text">观察者</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95"><span class="nav-text">备忘录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85"><span class="nav-text">中介者</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">迭代器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4"><span class="nav-text">命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE"><span class="nav-text">责任链</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E9%87%8A%E5%99%A8-%E7%94%A8%E5%BE%97%E5%B0%91%E3%80%81%E9%9A%BE%E7%90%86%E8%A7%A3%E3%80%81%E9%81%82%E4%B8%8D%E6%A6%82%E6%8B%AC"><span class="nav-text">解释器(用得少、难理解、遂不概括)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E4%BA%86%E4%B8%80%E4%B8%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%B8%B8%E8%A7%81%E4%BC%98%E7%BC%BA%E7%82%B9-%E8%87%AA%E8%A1%8C%E5%AF%B9%E5%8F%B7%E5%85%A5%E5%BA%A7%E5%90%A7"><span class="nav-text">收集了一下设计模式常见优缺点(自行对号入座吧)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-text">缺点</span></a></li></ol></li></ol>

	</div>
</div>
	</div>
	
</div>
			</div>

			
		</div>

		<div class="main-content-footer">
			<footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2021</span>
              -
            
            2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">urlyy</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        共撰写了 81 篇文章
                    </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">访问人数</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">总访问量</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span>
            <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.5</a></span>
        </div>
        
        
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
		</div>
	</div>

	
	<div class="post-tools">
		<div class="post-tools-container">
	<ul class="article-tools-list">
		<!-- TOC aside toggle -->
		
		<li class="right-bottom-tools page-aside-toggle">
			<i class="fa-regular fa-outdent"></i>
		</li>
		

		<!-- go comment -->
		
		<li class="go-comment">
			<i class="fa-regular fa-comments"></i>
		</li>
		
	</ul>
</div>
	</div>
	

	<div class="right-side-tools-container">
		<div class="side-tools-container">
	<ul class="hidden-tools-list">
		<li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-plus"></i>
		</li>

		<li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-minus"></i>
		</li>

		<li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
			<i class="fa-regular fa-moon"></i>
		</li>

		<!-- rss -->
		

		
		<li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
			<i class="fa-regular fa-arrow-up"></i>
		</li>
		

		<li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
			<i class="fa-regular fa-arrow-down"></i>
		</li>
	</ul>

	<ul class="visible-tools-list">
		<li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
			<i class="fa-regular fa-cog fa-spin"></i>
		</li>
		
		
	</ul>
</div>
	</div>

	<div class="image-viewer-container">
	<img src="">
</div>

	
	<div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-input-field-pre">
				<i class="fa-solid fa-keyboard"></i>
			</span>
			<div class="search-input-container">
				<input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="站内搜索您需要的内容..." spellcheck="false" type="search" class="search-input">
			</div>
			<span class="popup-btn-close">
				<i class="fa-solid fa-times"></i>
			</span>
		</div>
		<div id="search-result">
			<div id="no-result">
				<i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
			</div>
		</div>
	</div>
</div>
	

</main>



<script src="/js/build/libs/Swup.min.js"></script>

<script src="/js/build/libs/SwupSlideTheme.min.js"></script>

<script src="/js/build/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/build/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/build/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/build/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>




	
<script src="/js/build/tools/imageViewer.js" type="module"></script>

<script src="/js/build/utils.js" type="module"></script>

<script src="/js/build/main.js" type="module"></script>

<script src="/js/build/layouts/navbarShrink.js" type="module"></script>

<script src="/js/build/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/build/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/build/layouts/categoryList.js" type="module"></script>



    
<script src="/js/build/tools/localSearch.js" type="module"></script>




    
<script src="/js/build/tools/codeBlock.js" type="module"></script>




    
<script src="/js/build/layouts/lazyload.js" type="module"></script>




    
<script src="/js/build/tools/runtime.js"></script>

    
<script src="/js/build/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/build/libs/Typed.min.js"></script>

  
<script src="/js/build/plugins/typed.js" type="module"></script>




    
        <script src="https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js"></script>
    
    
<script src="/js/build/plugins/mermaid.js"></script>






    
<script src="/js/build/libs/anime.min.js"></script>





    
<script src="/js/build/tools/tocToggle.js" type="module" data-swup-reload-script=""></script>

<script src="/js/build/layouts/toc.js" type="module" data-swup-reload-script=""></script>

<script src="/js/build/plugins/tabs.js" type="module" data-swup-reload-script=""></script>




<script src="/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script>


<script src="/js/build/layouts/essays.js" type="module" data-swup-reload-script=""></script>





	
</body>

</html>